[{"/home/yuarmy/桌面/Web Programming/NTUEEat/src/index.js":"1","/home/yuarmy/桌面/Web Programming/NTUEEat/src/reportWebVitals.js":"2","/home/yuarmy/桌面/Web Programming/NTUEEat/src/App.js":"3","/home/yuarmy/桌面/Web Programming/NTUEEat/src/Register.js":"4","/home/yuarmy/桌面/Web Programming/NTUEEat/src/Profile.js":"5","/home/yuarmy/桌面/Web Programming/NTUEEat/src/userContext.js":"6","/home/yuarmy/桌面/Web Programming/NTUEEat/src/main/Mainbar.js":"7","/home/yuarmy/桌面/Web Programming/NTUEEat/src/containers/AddStore.js":"8","/home/yuarmy/桌面/Web Programming/NTUEEat/src/main/Main.js":"9","/home/yuarmy/桌面/Web Programming/NTUEEat/src/main/Random.js":"10","/home/yuarmy/桌面/Web Programming/NTUEEat/src/containers/storeContainer.js":"11","/home/yuarmy/桌面/Web Programming/NTUEEat/src/Constants.js":"12","/home/yuarmy/桌面/Web Programming/NTUEEat/src/main/StoreList.js":"13","/home/yuarmy/桌面/Web Programming/NTUEEat/src/main/Navbar.js":"14","/home/yuarmy/桌面/Web Programming/NTUEEat/src/routes/routes.js":"15","/home/yuarmy/桌面/Web Programming/NTUEEat/src/components/store/Review.js":"16","/home/yuarmy/桌面/Web Programming/NTUEEat/src/components/store/BasicInfo.js":"17","/home/yuarmy/桌面/Web Programming/NTUEEat/src/components/store/userCommentContext.js":"18","/home/yuarmy/桌面/Web Programming/NTUEEat/src/main/OutlinedCard.js":"19","/home/yuarmy/桌面/Web Programming/NTUEEat/src/components/store/Ratestar.js":"20","/home/yuarmy/桌面/Web Programming/NTUEEat/src/Geolocator.js":"21","/home/yuarmy/桌面/Web Programming/NTUEEat/src/MapContainer.js":"22","/home/yuarmy/桌面/Web Programming/NTUEEat/src/StoreMap.js":"23"},{"size":500,"mtime":1610888622621,"results":"24","hashOfConfig":"25"},{"size":362,"mtime":1606914368645,"results":"26","hashOfConfig":"25"},{"size":1239,"mtime":1611044322869,"results":"27","hashOfConfig":"25"},{"size":9152,"mtime":1611146169805,"results":"28","hashOfConfig":"25"},{"size":8979,"mtime":1611146074351,"results":"29","hashOfConfig":"25"},{"size":104,"mtime":1611143785138,"results":"30","hashOfConfig":"25"},{"size":3230,"mtime":1610981126709,"results":"31","hashOfConfig":"25"},{"size":8699,"mtime":1610981126705,"results":"32","hashOfConfig":"25"},{"size":3098,"mtime":1611144715645,"results":"33","hashOfConfig":"25"},{"size":4483,"mtime":1611144159389,"results":"34","hashOfConfig":"25"},{"size":3322,"mtime":1611138675771,"results":"35","hashOfConfig":"25"},{"size":260,"mtime":1608296598977,"results":"36","hashOfConfig":"25"},{"size":1109,"mtime":1611044026159,"results":"37","hashOfConfig":"25"},{"size":6029,"mtime":1611144132463,"results":"38","hashOfConfig":"25"},{"size":1825,"mtime":1611145902072,"results":"39","hashOfConfig":"25"},{"size":7101,"mtime":1611138396486,"results":"40","hashOfConfig":"25"},{"size":4230,"mtime":1611067174435,"results":"41","hashOfConfig":"25"},{"size":118,"mtime":1611044322869,"results":"42","hashOfConfig":"25"},{"size":3649,"mtime":1611144148084,"results":"43","hashOfConfig":"25"},{"size":1389,"mtime":1609407060819,"results":"44","hashOfConfig":"25"},{"size":1471,"mtime":1611059360810,"results":"45","hashOfConfig":"25"},{"size":3759,"mtime":1611146230856,"results":"46","hashOfConfig":"25"},{"size":2485,"mtime":1611126350553,"results":"47","hashOfConfig":"25"},{"filePath":"48","messages":"49","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"50"},"162hvaj",{"filePath":"51","messages":"52","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"50"},{"filePath":"53","messages":"54","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"50"},{"filePath":"55","messages":"56","errorCount":0,"warningCount":2,"fixableErrorCount":0,"fixableWarningCount":0,"source":null},{"filePath":"57","messages":"58","errorCount":0,"warningCount":2,"fixableErrorCount":0,"fixableWarningCount":0,"source":null},{"filePath":"59","messages":"60","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"50"},{"filePath":"61","messages":"62","errorCount":0,"warningCount":6,"fixableErrorCount":0,"fixableWarningCount":0,"source":"63","usedDeprecatedRules":"50"},{"filePath":"64","messages":"65","errorCount":0,"warningCount":7,"fixableErrorCount":0,"fixableWarningCount":1,"source":"66","usedDeprecatedRules":"50"},{"filePath":"67","messages":"68","errorCount":0,"warningCount":3,"fixableErrorCount":0,"fixableWarningCount":0,"source":"69","usedDeprecatedRules":"50"},{"filePath":"70","messages":"71","errorCount":0,"warningCount":1,"fixableErrorCount":0,"fixableWarningCount":0,"source":"72","usedDeprecatedRules":"50"},{"filePath":"73","messages":"74","errorCount":0,"warningCount":3,"fixableErrorCount":0,"fixableWarningCount":0,"source":"75","usedDeprecatedRules":"50"},{"filePath":"76","messages":"77","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"50"},{"filePath":"78","messages":"79","errorCount":0,"warningCount":4,"fixableErrorCount":0,"fixableWarningCount":0,"source":"80","usedDeprecatedRules":"50"},{"filePath":"81","messages":"82","errorCount":0,"warningCount":4,"fixableErrorCount":0,"fixableWarningCount":0,"source":"83","usedDeprecatedRules":"50"},{"filePath":"84","messages":"85","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0},{"filePath":"86","messages":"87","errorCount":0,"warningCount":11,"fixableErrorCount":0,"fixableWarningCount":0,"source":"88","usedDeprecatedRules":"50"},{"filePath":"89","messages":"90","errorCount":0,"warningCount":6,"fixableErrorCount":0,"fixableWarningCount":0,"source":"91","usedDeprecatedRules":"50"},{"filePath":"92","messages":"93","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"50"},{"filePath":"94","messages":"95","errorCount":0,"warningCount":6,"fixableErrorCount":0,"fixableWarningCount":0,"source":"96","usedDeprecatedRules":"50"},{"filePath":"97","messages":"98","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"50"},{"filePath":"99","messages":"100","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"50"},{"filePath":"101","messages":"102","errorCount":0,"warningCount":3,"fixableErrorCount":0,"fixableWarningCount":0,"source":null},{"filePath":"103","messages":"104","errorCount":0,"warningCount":2,"fixableErrorCount":0,"fixableWarningCount":0,"source":"105"},"/home/yuarmy/桌面/Web Programming/NTUEEat/src/index.js",[],["106","107"],"/home/yuarmy/桌面/Web Programming/NTUEEat/src/reportWebVitals.js",[],"/home/yuarmy/桌面/Web Programming/NTUEEat/src/App.js",[],"/home/yuarmy/桌面/Web Programming/NTUEEat/src/Register.js",["108","109"],"/home/yuarmy/桌面/Web Programming/NTUEEat/src/Profile.js",["110","111"],"/home/yuarmy/桌面/Web Programming/NTUEEat/src/userContext.js",[],"/home/yuarmy/桌面/Web Programming/NTUEEat/src/main/Mainbar.js",["112","113","114","115","116","117"],"\nimport Button from '@material-ui/core/Button';\nimport AppBar from '@material-ui/core/AppBar';\nimport React, {useState , useContext} from \"react\";\nimport Random from './Random'\nimport { IconButton, Backdrop, FormControl, InputLabel, makeStyles, TextField, Grid, Paper} from '@material-ui/core';\nimport EmojiObjectsIcon from '@material-ui/icons/EmojiObjects';\nimport FaceIcon from '@material-ui/icons/Face';\nimport './Navbar.css';\nimport AddCircleIcon from '@material-ui/icons/AddCircle';\nimport HomeIcon from '@material-ui/icons/Home';\nimport userContext from '../userContext'\nimport ExitToAppIcon from '@material-ui/icons/ExitToApp';\nimport foodIcon from '../Image/foodicon.png'\nimport { Avatar } from '@material-ui/core';\n\n// import instance from \"../routes\"\nimport { Link } from 'react-router-dom'  \n\nconst useStyles=makeStyles((theme)=>({\n    appbar:{\n        display: 'flex',\n        padding : theme.spacing(3),\n        backgroundColor : \"#D4E6F1\"\n    },\n    Button:{\n        margin:theme.spacing(2),\n        alignSelf: 'flex',\n    },\n    backdrop: {\n        zIndex: theme.zIndex.drawer + 1,\n        color: '#fff',\n    }\n}))\n\nexport default function Mainbar(){\n    let {user, setUser} = useContext(userContext)\n    const classes=useStyles();\n    const[open, setOpen] = useState(false)\n    const handleClose = () => {\n        setOpen(false)\n    }\n    const handleLogOut = () => {\n        setUser(null)\n    }\n    return(\n        <>\n        <Grid container>\n        <AppBar className={classes.appbar}>\n            <Grid item container spacing={2} style={{display: \"flex\" , justifyContent: 'flex-end'}}>\n                {\n                    (user) ? (\n                        <>\n                        <Grid item><Link to='/' style={{ textDecoration : \"none\" }}><IconButton><HomeIcon></HomeIcon></IconButton></Link></Grid>\n                        <Grid item><IconButton><ExitToAppIcon onClick={handleLogOut}></ExitToAppIcon></IconButton></Grid>\n                        <Grid item><Link to=\"/addstore\" style={{ textDecoration : \"none\"}}><IconButton><AddCircleIcon></AddCircleIcon></IconButton></Link></Grid>\n                        <Grid item><IconButton onClick={() => setOpen(prev => !prev)}><EmojiObjectsIcon></EmojiObjectsIcon></IconButton></Grid>\n                        <Grid item><Link to=\"/profile\" style={{ textDecoration : \"none\"}}><IconButton><Avatar src={user.profilePic} /></IconButton></Link></Grid>\n                        </>\n                    ) : (\n                        <Grid item>\n                            <Link to=\"/login\" style={{ textDecoration : \"none\"}}><Button className={classes.Button} variant=\"outlined\" color=\"default\" size=\"large\">Login</Button></Link>\n                            <Link to='/' style={{ textDecoration : \"none\" }}><IconButton><HomeIcon></HomeIcon></IconButton></Link>\n                            <IconButton onClick={() => setOpen(prev => !prev)}><EmojiObjectsIcon></EmojiObjectsIcon></IconButton>\n                        </Grid>\n                    )\n                }\n            </Grid>\n        </AppBar>\n        </Grid>\n        <Backdrop open={open} className={classes.backdrop}>\n            <Random CloseBackdrop={handleClose}/>\n        </Backdrop>\n        </>\n    )\n}\n\n","/home/yuarmy/桌面/Web Programming/NTUEEat/src/containers/AddStore.js",["118","119","120","121","122","123","124"],"import { Component } from 'react';\nimport { uploadStoreInfo } from '../routes/routes';\nimport { TextField, MenuItem, FormLabel, Button, IconButton, Snackbar, Box, Grid, Paper, Typography} from '@material-ui/core';\nimport { regions, avgPrice, cuisines } from '../Constants';\nimport { FreeBreakfastOutlined, RedeemRounded} from '@material-ui/icons';\nimport Alert from '@material-ui/lab/Alert';\nimport HighlightOffIcon from '@material-ui/icons/HighlightOff';\nimport { Redirect } from 'react-router-dom'\nimport { withStyles } from \"@material-ui/core/styles\";\n\nconst styles = theme => ({\n    root: {\n      backgroundColor: \"red\"\n    },\n    paper : {\n        padding : theme.spacing(4),\n        marginTop : theme.spacing(15)\n    },\n    paper2 : {\n        padding : theme.spacing(2),\n        margin : theme.spacing(1),\n        maxWidth : '100%',\n        maxHeight : '100%',\n    },\n    box : {\n        backgroundColor: \"#D4E6F1\",\n        borderRadius:20,\n        padding : theme.spacing(2),\n        marginTop : theme.spacing(2),\n        marginBottom : theme.spacing(2),\n    },\n    box2 : {\n        maxWidth : '40%',\n        maxHeight : '40%',\n    },\n    box3 : {\n        backgroundColor: \"#F2EDEB\",\n        borderRadius:20,\n        padding : theme.spacing(2),\n        marginTop : theme.spacing(2),\n        marginBottom : theme.spacing(2),\n    },\n    box4 : {\n        backgroundColor: \"#F7F0F5\",\n        borderRadius:20,\n        padding : theme.spacing(2),\n        marginTop : theme.spacing(2),\n        marginBottom : theme.spacing(2),\n    },\n});\n\n// Required: TextField, Select \nclass AddStore extends Component {\n    constructor(props){\n        super(props);\n        this.state = {\n            urls: [],\n            restaurant: null,\n            phone: null,\n            dist: null,\n            address: null,\n            min: null,\n            max: null,\n            avg: null,\n            cuisine: null,\n            errormessage: null,\n            error : false,\n            success : false\n        }\n    }\n\n    handleChange = event => {\n        this.setState({urls: []})\n        if (event.target.files){\n            const files = Array.from(event.target.files);\n           files.forEach(file => {\n               const reader = new FileReader();\n               reader.readAsDataURL(file);\n               reader.onloadend = () => {\n                   this.setState((prev) => ({\n                    urls: [...prev.urls, reader.result]\n                   }))\n               }\n           }); \n        }\n    }\n\n    handleValueChange = cap => {\n        const handleChange = event => {\n            const renew = new Object;\n            renew[cap] = event.target.value;\n            this.setState(renew);\n        }\n        return handleChange;\n    }\n\n    handleSubmit = async(e) => {\n        e.preventDefault();\n        const sendData = async () => {\n            const parsedData = { \n                images: this.state.urls \n            };\n            for (let [key, value] of Object.entries(this.state)) {\n                switch(key){\n                    case 'restaurant':\n                        parsedData.storename = value;\n                        break;\n                    case 'phone':\n                        parsedData.phone = value;\n                        break;\n                    case 'dist':\n                        parsedData.location = value;\n                        break;\n                    case 'address':\n                        parsedData.address = value;\n                        break;\n                    case 'min':\n                        if (value) parsedData.lowestPrice = value;\n                        break;\n                    case 'max':\n                        if (value) parsedData.highestPrice = value;\n                        break;\n                    case 'avg':\n                        parsedData.avgPrice = value;\n                        break;\n                    case 'cuisine':\n                        parsedData.type = value;\n                        break;\n                }\n            }\n            const res = await uploadStoreInfo(JSON.stringify(parsedData));\n            // res should either be success or the error message\n            if(res === \"success\"){\n                this.setState({\n                    success : true\n                })\n            } else if (res === 'client-side error') {\n                this.setState({\n                    errormessage: '系統出了一點問題QAQ 拜託再試一次Orz'\n                })\n            } else if(res !== \"success\"){\n                this.setState({\n                    error: true,\n                    errormessage : res\n                })\n            }\n        }\n        sendData();\n    }\n\n    handleSnackbarClose = () => {\n        this.setState({\n            error : false\n        })\n    }\n    render() {\n        const { classes } = this.props;\n        console.log('success', this.state.success)\n        return (\n            <>\n            {(!this.state.success) ? (\n            <Paper className={classes.paper}>\n            <Box className={classes.box}><Typography variant=\"h3\">表單</Typography></Box>\n            <form onSubmit={this.handleSubmit}>\n            <Grid container spacing={3} justify=\"center\">\n                <Grid item xs={6}><Box className={classes.box3}><TextField label=\"餐廳名稱\" variant=\"outlined\" autoFocus={true} onChange={this.handleValueChange('restaurant')} required/></Box></Grid>\n                <Grid item xs={6}><Box className={classes.box3}><TextField label=\"電話\" variant=\"outlined\" onChange={this.handleValueChange('phone')}/></Box></Grid>\n                \n                <Grid item xs={6}><Box className={classes.box4}><TextField label=\"區域\" variant=\"outlined\" onChange={this.handleValueChange('dist')} select>{regions.map(region => <MenuItem key={region} value={region}>{region}</MenuItem>)}</TextField></Box></Grid>\n                <Grid item xs={6}><Box className={classes.box4}><TextField label=\"地址\" variant=\"outlined\" onChange={this.handleValueChange('address')} required/></Box></Grid>\n                \n                <Grid item xs={6}><Box className={classes.box3}><TextField label=\"最低品項單價\" variant=\"outlined\" onChange={this.handleValueChange('min')}/></Box></Grid>\n                <Grid item xs={6}><Box className={classes.box3}><TextField label=\"最高品項單價\" variant=\"outlined\" onChange={this.handleValueChange('max')}/></Box></Grid>\n                <Grid item xs={6}><Box className={classes.box4}><TextField label=\"平均價位\" variant=\"outlined\" onChange={this.handleValueChange('avg')} select required>{avgPrice.map(price => <MenuItem key={price} value={price}>{price}</MenuItem>)}</TextField></Box></Grid>\n                <Grid item xs={6}><Box className={classes.box4}><TextField label=\"類別\" variant=\"outlined\" onChange={this.handleValueChange('cuisine')} select required>{cuisines.map(cuisine => <MenuItem key={cuisine} value={cuisine}>{cuisine}</MenuItem>)}</TextField></Box></Grid>\n                <Grid item xs={12}>\n                    <Box className={classes.box} justifyContent=\"center\">\n                        <div><Typography>上傳至少一張菜單圖片ㄅ～</Typography></div>\n                        <input name=\"file\" type=\"file\" onChange={this.handleChange} multiple={true} accept=\"image/\" required/>\n                    </Box>\n                <Grid item container>\n                    {this.state.urls.map(menu => \n                    <Grid item>\n                        <Paper className={classes.paper2} key={Date.now()}>\n                            <img className=\"menu\" src={menu}/>\n                        </Paper>\n                    </Grid>)\n                    }\n                </Grid>\n                <Grid item><Button type=\"submit\" variant=\"outlined\">送出</Button></Grid>\n                </Grid>\n                </Grid>\n            </form>\n            <Snackbar \n                anchorOrigin={{ vertical : 'top', horizontal : 'right' }}\n                open={this.state.error} \n                onClose={this.handleSnackbarClose}\n                autoHideDuration={2000} \n                action={\n                    <IconButton size=\"small\" aria-label=\"close\" color=\"inherit\" onClick={this.handleSnackbarClose} >\n                        <HighlightOffIcon fontSize=\"small\"/>\n                    </IconButton>\n                }\n            >\n                <Alert severity=\"error\" onClose={this.handleSnackbarClose}>\n                {(this.state.error) ? `${this.state.errormessage}` : null}\n                </Alert>\n            </Snackbar>\n            </Paper>) : <Redirect to=\"/\" />\n            }\n            </>\n        )\n    }\n}\n\nexport default withStyles(styles)(AddStore);","/home/yuarmy/桌面/Web Programming/NTUEEat/src/main/Main.js",["125","126","127"],"// import Button from '@material-ui/core/Button';\nimport Navbar from './Navbar'\nimport StoreList from \"./StoreList\"\nimport axios from \"axios\"\nimport Alert from '@material-ui/lab/Alert';\nimport HighlightOffIcon from '@material-ui/icons/HighlightOff';\nimport { makeStyles, Snackbar , IconButton, Grid} from '@material-ui/core'\nimport { useState ,useEffect , useContext} from 'react'\nimport userContext from '../userContext'\n\nconst useStyles = makeStyles(theme => ({\n  snackbar : {\n    padding : theme.spacing(1)\n  },\n}))\n\n\n// const axios = axios.create({baseURL : \"/stores\"});\nexport default function Main() {\n  \n  let {user} = useContext(userContext)\n  const classes = useStyles()\n  const [content,setContents]=useState(\"\") \n  const[location,setLocal] = useState(\"\");\n  const[price,setPrice] = useState(\"\");\n  const[prefer,setPrefer] = useState(\"\");\n  const[search,setSearch] = useState(\"\")\n  let [error,setError] = useState(null)\n\n  const handleSetLocal = (e) => {\n    setLocal(e)\n  }\n  const handleSetPrice = (e) => {\n    setPrice(e)\n  }\n  const handleSetPrefer = (e) => {\n    setPrefer(e)\n  }\n  const handleClose = () => {\n    setError(false)\n  }\n  const handleError = () => {\n    setError(false)\n  }\n  const handlesetSearch = (e) => {\n    setSearch(e)\n  } \n  useEffect(async ()=>{\n    const {data} = await axios.get(\"/stores\");\n    if(data.msg){\n      setContents(null)\n    }else if(data.Error){\n      console.log(data.Error)\n    }else{\n      setContents(data);\n    }\n   \n  },[])\n\n  const Submit = async() => {\n    const {data} = await axios.post(\"/stores\",{\n      pricing:price,\n      location:location,\n      preferences:prefer\n    });\n    console.log(\"data\",data)\n    if(data.msg){\n      setContents(null)\n    }else if(data.Error){\n      console.log(data.Error)\n    }else{\n      setContents(data);\n    }\n  }\n  const handleSearch = async()=>{\n    const {data} = await axios.post(`/stores/search/?QUERY=${search}`)\n    if(data.msg){\n      setContents(null)\n    }else if(data.Error){\n      console.log(data.Error)\n    }else{\n      setContents(data);\n    }\n  }\n  return (\n      <div className=\"main\">\n        <Navbar Local={handleSetLocal} Price={handleSetPrice} Prefer={handleSetPrefer} Submit={Submit} search={search} handleSearch={handleSearch} handlesetSearch={handlesetSearch}/>\n        <div className=\"stores\">\n              <StoreList className=\"storeList\" data={content}/>\n        </div>\n        <Snackbar className={classes.snackbar}\n                  anchorOrigin={{ vertical : 'top', horizontal : 'right' }}\n                  open={error} \n                  onClose={handleClose}\n                  autoHideDuration={2000} \n                  action={\n                      <IconButton size=\"small\" aria-label=\"close\" color=\"inherit\" onClick={handleError} >\n                          <HighlightOffIcon fontSize=\"small\" />\n                      </IconButton>\n                  }\n              >\n                  <Alert severity=\"error\" onClose={handleError}>\n                  {error ? `${error}` : null}\n                  </Alert>\n              </Snackbar>\n      </div>\n      \n    );\n}\n","/home/yuarmy/桌面/Web Programming/NTUEEat/src/main/Random.js",["128"],"import React, {useState, useEffect} from 'react'\nimport { Button, Grid, Typography, Card, Dialog} from '@material-ui/core'\nimport axios from 'axios'\nimport { Link } from 'react-router-dom'\nimport { makeStyles } from '@material-ui/core/styles'\n\nconst instance = axios\n\nconst useStyle = makeStyles( theme => ({\n    root : {\n        minWidth: 275,\n    },\n    outergrid : {\n        margin : theme.spacing(2),\n        padding : theme.spacing(4),\n        maxWidth : 'lg',\n        minWidth: 'xs'\n    },\n    card : {\n        margin : theme.spacing(1),\n        padding : theme.spacing(4),\n    },\n    innercard : {\n        margin : theme.spacing(2),\n        padding : theme.spacing(4),\n        maxWidth : 'lg',\n        minWidth: 'xs'\n    },\n    text : {\n        margin : theme.spacing(1),\n    },\n    buttonHelp : {\n        paddingLeft : theme.spacing(4),\n        paddingRight : theme.spacing(4),\n        margin : theme.spacing(1),\n        fontSize : 15,\n        borderRadius : 20\n    },\n    buttonEat : {\n        paddingLeft : theme.spacing(2),\n        paddingRight : theme.spacing(2),\n        margin : theme.spacing(1),\n        fontSize : 15,\n        borderRadius : 20\n    },\n    header : {\n        padding : theme.spacing(1),\n        margin : theme.spacing(3),\n    }\n}))\n\nfunction Random({ CloseBackdrop }){\n    const classes = useStyle()\n    const [result, setResult] = useState(null)\n    const getResult = async () => {\n        const res = await instance.get('/stores/random')\n        // console.log(res.data)\n        setResult(res.data)\n    }\n    const handleClose = () => {\n        CloseBackdrop()\n        setResult(null)\n    }\n    useEffect( () => {\n        console.log(result)\n    }, [result])\n    return(\n        <>\n            <Grid container\n                justify=\"center\"\n                direction=\"row\"\n                className={classes.outergrid}\n            >\n                <Card alignItems=\"center\"\n                    justify=\"center\"\n                    style={{backgroundColor: \"#EBEBD3\"}}\n                    className={classes.card}\n                >\n                <Grid item\n                    container \n                    direction=\"column\"\n                    justify=\"center\" \n                >\n                    <Grid item>\n                        <Typography className={classes.header} variant=\"h2\">今天吃什麼</Typography>\n                    </Grid>\n                    <Grid item>\n                        {\n                        (result) ? (\n                            <Card \n                                alignItems=\"center\"\n                                className={classes.innercard}\n                            >\n                                <Typography variant=\"h5\" style={{ display : \"inline-block\" }} className={classes.text}>{result.storename}</Typography>\n                                <Link to={`/store/${result._id}`}\n                                    style={{paddingLeft: 13, \n                                        textDecoration: 'none', \n                                        display: \"inline-block\", \n                                        alignSelf : \"flex-end\",\n                                        float : \"right\"\n                                    }}\n                                >\n                                    <Button\n                                        onClick={()=>handleClose()}\n                                        className={classes.buttonEat}\n                                        style={{ \n                                            backgroundColor : \"#3C3C3B\",\n                                            color : \"#FFFFFF\"\n                                    }}>\n                                        吃！\n                                    </Button>\n                                </Link>\n                            </Card>\n                        ):null\n                        }\n                    </Grid>\n                    <Grid item \n                        container\n                        justify=\"center\"\n                    >\n                        <Button \n                            size=\"large\"\n                            onClick={getResult}\n                        >\n                            救救我！\n                        </Button>\n                        <Button onClick={handleClose}>close</Button>\n                    </Grid>\n                </Grid>\n                </Card>\n            </Grid>\n        </>\n    )\n}\n\nexport default Random;","/home/yuarmy/桌面/Web Programming/NTUEEat/src/containers/storeContainer.js",["129","130","131"],"import { fetchStoreData } from '../routes/routes'\nimport BasicInfo from '../components/store/BasicInfo';\nimport Review from '../components/store/Review';\nimport { useEffect, useState } from 'react';\nimport { useParams } from 'react-router-dom';\nimport {Paper, makeStyles} from '@material-ui/core';\nimport Map from '../Geolocator'\n\n//import userRateContext from '../components/store/userCommentContext'\nimport userCommentContext from '../components/store/userCommentContext'\n\nconst useStyles = makeStyles(theme => ({\n    root: {\n        overflow: 'visible',\n        display: 'flex',\n        \n    },\n    leftBar: {\n        width: '40%'\n    },\n    paper : {\n        display: 'absolute',\n        marginTop : theme.spacing(20),\n        marginLeft : theme.spacing(5),\n        marginRight : theme.spacing(2),\n        marginButtom: theme.spacing(3),\n        height: '100%'\n    },\n    info : {\n        marginLeft : theme.spacing(0),\n        marginRight : theme.spacing(0),\n        maxWidth: 360,\n        width: '100%',\n        height: '60%'\n    },\n    map: {\n        display: 'absolute',\n        marginTop: '260px',\n        display: 'inline',\n        width: '60%',\n        marginRight: '5px'\n    }\n}))\nfunction StoreContainer (props) {\n    const classes = useStyles();\n    const { id } = useParams();\n    let data;\n    const [ basicInfo, setBasicInfo ] = useState(null)\n    const [ review, setReview ] = useState(null)\n    const [ userComment, setUserComment] = useState(null);\n    const [ userRate, setUserRate] = useState(null);\n    const [commented, setCommented] = useState()\n    const [userCommentId, setUserCommentId] = useState(null)\n    const [ edit, setEdit ] = useState()\n    const [address, setAddress] = useState()\n    const [storename, setStorename] = useState()\n    const [rating, setRating] = useState()\n    useEffect(async () => {\n        data = await fetchStoreData(id);\n        setBasicInfo({\n            storeName: data.storename,\n            address: data.address,\n            phone: data.phone,\n            menus: data.picture\n        })\n        setReview({\n            storeName: data.storename,\n            storeId: data._id,\n            rating: data.rating,\n            comments: data.comments\n        })\n        setRating(data.rating)\n        setAddress(data.address)\n        setStorename(data.storename)\n    },[ id ])\n    //const data = await fetchStoreData('6002e4d7d31a19a31b19086f');\n    //console.log(\"data: \", data)\n    if (data !== \"error\"){\n        //console.log(basicInfo, review)\n        return (\n            <div className={classes.root}>\n                <userCommentContext.Provider value={{userComment, setUserComment , userRate , setUserRate, commented, setCommented, userCommentId, setUserCommentId, edit, setEdit, address, setAddress, storename, rating}}>\n                    <div className={classes.leftBar}><Paper className={classes.paper}>\n                        <BasicInfo data={basicInfo&&basicInfo}/>\n                        <Review data={review&&review}/>\n                    </Paper></div>\n                    <div className={classes.map}>{(address&&storename&&rating)&&<Map />}</div>\n                </userCommentContext.Provider>\n            </div>\n        )\n    }\n    \n}\n//<div className={classes.map}>{(address&&storename&&rating)&&<Map />}</div>\nexport default StoreContainer;","/home/yuarmy/桌面/Web Programming/NTUEEat/src/Constants.js",[],"/home/yuarmy/桌面/Web Programming/NTUEEat/src/main/StoreList.js",["132","133","134","135"],"import React,{useState,useEffect} from 'react';\nimport { makeStyles } from '@material-ui/core/styles';\nimport Button from '@material-ui/core/Button';\nimport OutlinedCard from \"./OutlinedCard\"\nimport { Grid, Paper } from '@material-ui/core';\n// import  { uploadStoreInfo, fetchStoreData } from \"../routes/routes\";\n// import axios from \"axios\";\n// import { \n//   BrowserRouter as Router,\n//   Switch,\n//   Route,\n//   Link\n// } from 'react-router-dom' \n\n// const instance = axios.create({baseURL : \"http://localhost:4000\"});\n\nconst useStyles = makeStyles((theme)=>({\n    list : {\n      margin : theme.spacing(2)\n    }  \n  }));\n  \nexport default function StoreList(props){\n    const classes = useStyles();\n    return( \n      <>\n        <Grid container justify=\"center\" className={classes.list}>\n            {\n              props.data ? \n              props.data.map(item=> {\n                return (\n                  <Grid item xs={8}>\n                    <OutlinedCard data={item} key={item._id} />\n                  </Grid>\n                )}) : null\n            }          \n        </Grid>\n      </>\n    )\n}\n","/home/yuarmy/桌面/Web Programming/NTUEEat/src/main/Navbar.js",["136","137","138","139"],"import Select from '@material-ui/core/Select';\nimport Button from '@material-ui/core/Button';\nimport MenuItem from '@material-ui/core/MenuItem';\nimport React, {useState, useContext, useEffect} from \"react\";\nimport Random from './Random'\nimport {Backdrop, FormControl, InputLabel, makeStyles, TextField, Grid, Paper, Box} from '@material-ui/core';\nimport userContext from '../userContext'\nimport './Navbar.css';\n\n\nconst useStyles = makeStyles((theme)=>({\n    root: {\n        flexGrow: 1,\n        display : 'flex',\n        // position: 'fixed',\n        bottom: theme.spacing(2),\n        right: theme.spacing(2),\n    },\n    FormControl:{\n        marginRight : theme.spacing(7),\n        marginLeft : theme.spacing(7),\n        marginTop : theme.spacing(2),\n        marginBottom : theme.spacing(2),\n        // display : 'flex', \n        minWidth : '20%',\n        minHeight : '10%',\n        alignSelf : 'flex-end',\n        flexGrow : 1,  \n    },\n    toolbar: {\n        minHeight: 128,\n        alignItems: 'fixed-end',\n        paddingTop: theme.spacing(1),\n        paddingBottom: theme.spacing(2),\n    },\n    submit : {\n        margin : theme.spacing(5),\n    },\n    button:{\n        marginLeft : theme.spacing(2),\n        alignSelf: 'flex',\n    },\n    Avatar:{\n        margin:theme.spacing(0),\n    },\n    backdrop: {\n        zIndex: theme.zIndex.drawer + 1,\n        color: '#fff',\n    },\n    paper : {\n        marginTop : theme.spacing(16),\n        marginRight : theme.spacing(2),\n        marginLeft : theme.spacing(2),\n        padding : theme.spacing(2)\n    },\n    box2 : {\n        margin : theme.spacing(2),\n        // display : 'flex',\n        backgroundColor: \"#D4E6F1\",\n        borderRadius:20,\n        padding : theme.spacing(2)\n    },\n    select : {\n        minWidth : '40%'\n    }\n}))\n\nexport default function Navbar({Local,Price,Prefer,Submit,search,handleSearch,handlesetSearch}){\n    let {user} = useContext(userContext)\n    const classes=useStyles();\n   \n    const[open, setOpen] = useState(false)\n    // const[search, setSearch] = useState('')\n    const handleChangelocal= e =>{\n        Local(e.target.value)\n    };\n    const handleChangeprice= e =>{\n        Price(e.target.value)\n    };\n    const handleChangeprefer= e =>{\n        Prefer(e.target.value)\n    };\n    const handleClose = () => {\n        setOpen(false)\n    }\n    const handleSetSearch = (e) => {\n        handlesetSearch(e.target.value)\n    }\n   \n    \n    {console.log(\"search\",search);}\n    return(\n        <>\n            <Paper className={classes.paper}>\n                <Box className={classes.box2}>\n                        <FormControl className={classes.FormControl}>\n                        <InputLabel>location</InputLabel>\n                        <Select className={classes.select}\n                        labeled=\"select-location\"\n                        id=\"location-select\"\n                        displayEmpty\n                        // value={location}\n                        onChange={handleChangelocal}\n                        >\n                            {/* <MenuItem value=\"\">Empty</MenuItem> */}\n                            <MenuItem value={\"118\"}>118巷</MenuItem>\n                            <MenuItem value={\"公館\"}>公館</MenuItem>\n                            <MenuItem value={\"溫州街\"}>溫州街</MenuItem>\n\n                        </Select>\n                    </FormControl>\n                        <FormControl className={classes.FormControl} >\n                        <InputLabel>Price</InputLabel>\n                        <Select className=\"select\"\n                        labeled=\"select-price\"\n                        id=\"price-select\"\n                        displayEmpty\n                        // value={price}\n                        onChange={handleChangeprice}\n                        >\n                            {/* <MenuItem value={\"\"}>Empty</MenuItem> */}\n                            <MenuItem value={\"$\"}>$</MenuItem>\n                            <MenuItem value={\"$$\"}>$$</MenuItem>\n                            <MenuItem value={\"$$$\"}>$$$</MenuItem>\n                        </Select>\n                    </FormControl>\n                        <FormControl className={classes.FormControl} >\n                        <InputLabel>Preference</InputLabel>\n                        <Select className=\"select\"\n                        labeled=\"select-prefer\"\n                        id=\"prefer-select\"\n                        displayEmpty\n                        // value={prefer}\n                        onChange={handleChangeprefer}\n                        >\n                            {/* <MenuItem value={\"\"}>Empty</MenuItem> */}\n                            <MenuItem value={\"台式\"}>台式</MenuItem>\n                            <MenuItem value={\"中式\"}>中式</MenuItem>\n                            <MenuItem value={\"韓式\"} >韓式</MenuItem>\n                            <MenuItem value={\"日式\"}>日式</MenuItem>\n                            <MenuItem value={\"美式\"}>美式</MenuItem>\n                            <MenuItem value={\"南洋\"}>南洋</MenuItem>\n                            <MenuItem value={\"其他\"}>其他</MenuItem>\n                        </Select>\n                        </FormControl>\n                        <FormControl className={classes.submit}>\n                            <Button onClick={Submit}>Submit</Button>\n                        </FormControl>\n                    </Box>\n                    <Box className={classes.box2} alignItems=\"center\" justifyContent=\"center\">\n                        <TextField className={classes.button} value={search} variant=\"outlined\" label=\"Restaurant name\" onChange={(e) => handleSetSearch(e)}></TextField>\n                        <Button className={classes.button} onClick={handleSearch}>Search</Button>\n                    </Box>\n            </Paper>\n            <Backdrop open={open} className={classes.backdrop}>\n                <Random CloseBackdrop={handleClose}/>\n            </Backdrop>\n        {/* // </Grid> */}\n       </>\n    )\n}\n\n","/home/yuarmy/桌面/Web Programming/NTUEEat/src/routes/routes.js",[],"/home/yuarmy/桌面/Web Programming/NTUEEat/src/components/store/Review.js",["140","141","142","143","144","145","146","147","148","149","150"],"import React, { useState, useEffect, useContext } from 'react';\nimport userContext from '../../userContext';\nimport { sendComment , reviseComment} from '../../routes/routes';\nimport { TextField, IconButton, Avatar, List, ListItem, ListItemAvatar, ListItemText, Typography , Button} from '@material-ui/core';\nimport { makeStyles } from '@material-ui/core/styles';\nimport SendIcon from '@material-ui/icons/Send';\nimport StarIcon from '@material-ui/icons/Star';\nimport RateStar from './Ratestar'\nimport StarBorderIcon from '@material-ui/icons/StarBorder';\nimport FavoriteIcon from '@material-ui/icons/Favorite';\nimport FavoriteBorderIcon from '@material-ui/icons/FavoriteBorder';\n// import userRateContext from './userRateContext'\nimport userCommentContext from './userCommentContext'\n\nconst useStyles = makeStyles((theme) => ({\n    root: {\n        margin: '10px',\n    },\n    commentList: {\n        height: '40%',\n        overflowY: 'scroll'\n    },\n    inlineStar: {\n        display: 'inline'\n    },\n    typeInComment: {\n        \n    }\n}));\n\nfunction Review (props) {\n    //props.data\n    const classes = useStyles();\n    let { user } = useContext(userContext)\n    // const [commented, setCommented] = useState()\n    let { userComment , userRate, setUserRate, setUserComment, commented, setCommented, userCommentId, setUserCommentId,  edit, setEdit} = useContext(userCommentContext)\n    // const handleUpdateComment = (newComment) => {\n    //     setUserComment(newComment)\n    // }\n    // const handleUpdateStar = (newRate) => {\n    //     setUserRate(newRate)\n    // }\n    useEffect(() => {\n        if(userComment){\n            setCommented(true)\n        }\n    }, [])\n    useEffect(() => {\n\n    }, [])\n    function CommentedBox (props) {\n        //username rating content profilePic\n        return (\n            <ListItem key={Date.now() + Math.random()}>\n                <ListItemAvatar>\n                    <Avatar src={props.profilePic} />\n                </ListItemAvatar>\n                    <ListItemText \n                        primary={props.username}\n                        secondary={\n                            <React.Fragment>\n                                <Typography\n                                    component=\"span\"\n                                    className={classes.inlineStar}\n                                    color=\"textPrimary\"\n                                >\n                                    {props.rating} <StarIcon/>\n                                </Typography>\n                                {props.content}\n                            </React.Fragment>\n                        }\n                    />\n                \n            </ListItem>\n        )\n    }\n\n    function TypeIn () {\n        let { userComment , userRate, setUserRate, setUserComment, commented, setCommented, userCommentId, setUserCommentId,  edit, setEdit} = useContext(userCommentContext)\n        const handleSubmit = async () => {\n            if (userRate === 0) {\n                alert('請給至少一顆星星的評價ㄛ');\n            } else if(userComment === 0) {\n                alert('請至少輸入一個字的評論ㄛ');\n            } else {\n                let data = {\n                    storename: props.data.storename,\n                    username: user.username,        \n                    content: userComment,\n                    rating: userRate,\n                    storeid: props.data.storeId\n                }\n                try {\n                    if(edit){\n                        data = {\n                            ...data,\n                            _id : userCommentId\n                        }\n                        const response = await reviseComment(data)\n                        console.log('response: ', response.data)\n                        if(response){\n                            setCommented(true)\n                            setEdit(false)\n                        }\n                    }else{\n                        const response = await sendComment(data);\n                        console.log('response: ', response.data)\n                        if(response){\n                            setCommented(true)\n                            setUserCommentId(response.data._id)\n                        }\n                    }\n                } catch (e) {\n                    throw e\n                }\n            }\n        }\n        return (\n            user ? \n            ((!edit && userComment && commented) ? (\n                    <CommentedBox username={user.username} rating={userRate} content={userComment} user={user.profilePic} />\n                ): <div className={classes.typeInComment}>\n                    <div style={{display: 'flex'}}>\n                        <Avatar style={{right: '5px'}} src=\"\"/>\n                        <div>\n                            <span style={{display: 'block'}}>{user.username}</span>\n                            <RateStar \n                                handleSelectRate={setUserRate}\n                                style={{display: 'block'}}\n                            />\n                        </div>\n                    </div>\n                    <TextField autoFocus onChange={(e)=>{setUserComment(e.target.value)}} value={userComment}/>\n                    <IconButton onClick={handleSubmit}>\n                        <SendIcon />\n                    </IconButton>\n                </div>) : <div>先登入才可以評論ㄛ～</div>\n        )\n    }\n    \n    function Comments (props) {\n        const { userComment, setUserComment, userRate, setUserRate} = useContext(userCommentContext)\n        let comments = []\n        if (props.comments) {\n            if (user) {//console.log(\"comments: \", props)\n                props.comments.forEach(comment => {\n                    if (comment.username !== user.username){\n                        comments.push(<CommentedBox key={comment._id} username={comment.username} rating={comment.rating} content={comment.content} profilePic={comment.profilePic}/>)\n                        // console.log('comments: ', comments)\n                    } else {\n                        console.log(comment)\n                        setUserCommentId(comment._id)\n                        setUserComment(comment.content)\n                        setUserRate(comment.rating)\n                    }\n                })\n            } else {\n            props.comments.forEach(comment => {\n                comments.push(<CommentedBox username={comment.username} rating={comment.rating} content={comment.content} profilePic={comment.profilePic}/>)\n                console.log('comments: ', comments)\n            })\n        }\n        } \n        return (\n            <List className={classes.commentList} >\n                {comments}\n            </List>\n        )\n        \n    }\n    return ( \n        <div className={classes.root}>\n            <TypeIn edit={edit} />\n            {commented ? (<Button onClick={ () => setEdit(true) }>修改</Button>) : null}\n            <Comments comments={props.data&&props.data.comments}/>\n        </div>\n    )\n}\n\nexport default Review;","/home/yuarmy/桌面/Web Programming/NTUEEat/src/components/store/BasicInfo.js",["151","152","153","154","155","156"],"import { useState } from 'react';\nimport { List, ListItem, ListItemIcon, ListItemText, GridList, GridListTile, Backdrop, ButtonBase, Button } from '@material-ui/core';\nimport { makeStyles } from '@material-ui/core/styles';\nimport RestaurantIcon from '@material-ui/icons/Restaurant';\nimport PhoneIcon from '@material-ui/icons/Phone';\nimport RoomIcon from '@material-ui/icons/Room';\nimport Divider from '@material-ui/core/Divider';\nimport Paper from '@material-ui/core/Paper';\n\nconst useStyles = makeStyles(theme => (\n    {\n        infoList: {\n            // display: 'inline-flex',\n            flexWrap: 'wrap',\n            width: '100%',\n            backgroundColor: theme.palette.background.paper,\n        },\n        menuGrid: {\n            display: 'block',\n            width: '100%',\n            overflowX: 'auto',\n            whiteSpace: 'nowrap'\n        },\n        grid: {\n            display: 'inline'\n        },\n        imageContainer: {\n            position: 'relative',\n            border: '5px',\n            height: 100,\n            '&:hover': {\n                cursor: 'pointer',\n            }\n        },\n        imageButton: {\n            position: 'absolute',\n            height: '100%',\n            left: 0,\n            right: 0,\n            top: 0,\n            bottom: 0,\n            backgroundSize: 'cover',\n            backgroundPosition: 'center'\n\n        },\n        backdrop: {\n            zIndex: theme.zIndex.drawer + 1,\n            color: '#fff'\n        },\n        divider:{\n            display: 'flex',\n            flexWrap: 'wrap',\n            marginTop : theme.spacing(1),\n            // marginBottom : theme.spacing(1),\n            // width: '175%'\n\n        },\n    }\n));\n\nfunction TogglePic() {\n    //const [ open, setOpen ] = useState(false)\n    return useState(false);\n}\n// Backdrop\nfunction BasicInfo (props) {\n    const classes = useStyles();\n    function MenuGrid (props) {\n        // console.log(props.data)\n        return (\n            <div className={classes.menuGrid}>\n                {props.data && props.data.menus.map(menu => {\n                    const [ open, setOpen ] = TogglePic();\n                    // console.log(menu)\n                    return (\n                        <div key={Date.now()+ Math.random()} className={classes.grid}>\n                            <ButtonBase\n                                onClick={() => setOpen(true)}\n                            >\n                                <div className={classes.imageContainer} >\n                                    <img src={menu} style={{height: '100%'}}/>\n                                </div>\n                            </ButtonBase>\n\n                            <Backdrop className={classes.backdrop} open={open} onClick={() => setOpen(false)}>\n                                <img src={menu}/>\n                            </Backdrop>\n                            \n                        </div>\n                    )\n                })}\n            </div>     \n        )\n    }\n    return (\n        <div className={classes.infoList}>\n            <List>\n                <ListItem>\n                <ListItemIcon>\n                    <RestaurantIcon />\n                </ListItemIcon>\n                <ListItemText primary={props.data&&props.data.storeName} />\n                </ListItem>\n                {/* <Divider light className={classes.divider}/> */}\n                <ListItem>\n                    <ListItemIcon>\n                        <RoomIcon />\n                    </ListItemIcon>\n                    <ListItemText primary={props.data&&props.data.address} />\n                </ListItem>\n                {/* <Divider light className={classes.devider}/> */}\n                <ListItem>\n                    <ListItemIcon>\n                        <PhoneIcon />\n                    </ListItemIcon>\n                    <ListItemText primary={props.data&&props.data.phone} />\n                </ListItem>\n                \n                \n                <Divider light variant=\"middle\" className={classes.divider}/>\n            </List>\n            \n            <MenuGrid data={props.data}/>\n\n            <Divider light variant=\"middle\" className={classes.divider}/>\n        </div>\n    )\n}\n\nexport default BasicInfo;","/home/yuarmy/桌面/Web Programming/NTUEEat/src/components/store/userCommentContext.js",[],"/home/yuarmy/桌面/Web Programming/NTUEEat/src/main/OutlinedCard.js",["157","158","159","160","161","162"],"import React, { useState , useContext,useEffect} from 'react';\nimport { makeStyles } from '@material-ui/core/styles';\nimport Card from '@material-ui/core/Card';\nimport Button from '@material-ui/core/Button';\nimport Grid from '@material-ui/core/Grid';\nimport Typography from '@material-ui/core/Typography';\nimport IconButton from '@material-ui/core/IconButton';\nimport FavoriteIcon from '@material-ui/icons/Favorite';\nimport StarIcon from '@material-ui/icons/Star';\nimport FavoriteBorderIcon from '@material-ui/icons/FavoriteBorder';\nimport { \n  BrowserRouter as Router,\n  Switch,\n  Route,\n  Link\n} from 'react-router-dom' \n\nimport axios from \"axios\"\nimport userContext from '../userContext'\n// import { Box } from '@material-ui/core';\nconst instance = axios\n\nconst useStyles = makeStyles(theme => ({\n  root: {\n    maxWidth: '100%',\n    margin : theme.spacing(2),\n    padding : theme.spacing(2)\n  },\n  title: {\n    fontSize: 14,\n  },\n  pos: {\n    marginBottom: 12,\n  },\n  typography : {\n    marginRight : theme.spacing(2)\n  }\n}));\n\nexport default function OutlinedCard(props) {\n  const classes = useStyles();\n  const[check, setCheck]=useState(false)\n  // const[firstcheck,setFirstcheck]=useState(false)\n  let {user, setUser} = useContext(userContext)\n  \n  const Favorite = async() => {\n    console.log('data:', user._id,props.data._id);\n    const {data}= await instance.post(\"/users/favorite\",{ \n      userID : user._id,\n      storeID : props.data._id\n    })\n    const array = data.map(fav => fav._id)\n    setUser(prev => {\n      return {\n        ...prev,\n        favorites : [...array]\n      }\n    })\n  }\n  \n  const UnFavorite=async()=>{\n      const {data}= await instance.delete(`/users/favorite?USERID=${user._id}&STOREID=${props.data._id}`)\n      const array = data.map(fav => fav._id)\n      setUser(prev => {\n        return {\n          ...prev,\n          favorites : [...array]\n        }\n      })\n  }\n  useEffect(()=>{\n    if(user){\n      user.favorites.map(favor_id=>{\n        if(props.data._id===favor_id){\n          setCheck(true);\n        }})\n    }else{\n      console.log(\"1Login ,please\");\n    }\n  },[])\n  \n    return (\n    <Card className={classes.root} variant=\"outlined\">\n        <Grid container direction=\"row\" alignItems=\"center\" spacing={2} justify=\"space-between\">\n          <Grid item>\n            <Link to ={`/store/${props.data._id}`} style={{textDecoration:\"none\",color:\"black\"}} >\n              <Typography variant=\"h5\" component=\"h2\">\n                {props.data.storename}\n              </Typography>\n            </Link>\n          </Grid>\n          <Grid item>\n              <IconButton aria-label=\"add to favorites\" onClick={()=>setCheck(()=>{\n                if(check){UnFavorite();}else{Favorite();} console.log(\"check1\",check); return !check})} disabled={!user}>\n                { check ?\n                  <FavoriteIcon id={props.data._id} color='error'/> :\n                  <FavoriteIcon />\n                }\n              </IconButton>\n            </Grid>\n          <Grid item container>\n            <Grid item>\n              <StarIcon></StarIcon>\n            </Grid>\n            <Grid item>\n              <Typography className={classes.typography}>\n              {props.data.rating? (`${props.data.rating}`): 0 }\n              </Typography>\n            </Grid>\n            <Grid item>\n              <FavoriteBorderIcon></FavoriteBorderIcon>\n            </Grid>\n            <Grid item>\n              <Typography className={classes.typography}>\n              {props.data.favorites? (`${props.data.favorites}`): 0 }\n              </Typography>\n            </Grid>\n          </Grid>\n        </Grid>\n    </Card>\n  )\n\n  \n}\n","/home/yuarmy/桌面/Web Programming/NTUEEat/src/components/store/Ratestar.js",[],"/home/yuarmy/桌面/Web Programming/NTUEEat/src/Geolocator.js",[],"/home/yuarmy/桌面/Web Programming/NTUEEat/src/MapContainer.js",["163","164","165"],"/home/yuarmy/桌面/Web Programming/NTUEEat/src/StoreMap.js",["166","167"],"import React, { useState, useEffect } from 'react'\nimport  { MapContainer, TileLayer, Popup, CircleMarker}  from 'react-leaflet'\nimport './Map.css'\nimport { makeStyles } from '@material-ui/core/styles';\nimport {Typography, Card, CardContent} from '@material-ui/core'\nimport StarRoundedIcon from '@material-ui/icons/StarRounded';\n\nconst useStyles = makeStyles({\n    root: {\n        minWidth: 300\n    },\n    title: {\n        fontSize: 20,\n    },\n    rating: {\n        fontSize : 15\n    }\n});\n  \nfunction StoreMap({ calculateDistance, storename , userCoords, storeCoords, location, rating}){\n        console.log(storename, userCoords, storeCoords, location, rating)\n        const classes = useStyles()\n        let [distance, setDistance] = useState()\n        // useEffect(() => {\n        //     const [userLat, userLng] = userCoords\n        //     const [storeLat, storeLng] = storeCoords\n        //     // parseFloat\n        //     setDistance(calculateDistance(userLat, userLng, storeLat, storeLng)) \n        // }, [])\n        return(\n            <MapContainer center={storeCoords} zoom={13} scrollWheelZoom={false}>\n                <TileLayer\n                    draggable=\"true\"\n                    attribution='<a href=\"https://www.maptiler.com/copyright/\" target=\"_blank\">&copy; MapTiler</a> <a href=\"https://www.openstreetmap.org/copyright\" target=\"_blank\">&copy; OpenStreetMap contributors</a>'\n                    url=\"https://api.maptiler.com/maps/streets/{z}/{x}/{y}.png?key=98cqmbPl7vgPxrspXRdI\"\n                />\n                <CircleMarker \n                    center={storeCoords}\n                    radius={10}\n                >\n                <Popup position={storeCoords}>\n                    <Card>\n                        <CardContent>\n                            <Typography variant=\"h4\">{storename}</Typography>\n                            <Typography className={classes.rating} color=\"textSecondary\">\n                                <StarRoundedIcon className={classes.rating}/>\n                                {` ${rating}`}\n                            </Typography>\n                            <Typography className={classes.rating}>{location}</Typography>\n                            <Typography className={classes.rating}>{`Distance : ${distance} KM`}</Typography>\n                        </CardContent>\n                    </Card>\n                </Popup>\n                </CircleMarker>\n            </MapContainer>\n        )\n}\n\nexport default StoreMap;\n\n",{"ruleId":"168","replacedBy":"169"},{"ruleId":"170","replacedBy":"171"},{"ruleId":"172","severity":1,"message":"173","line":43,"column":10,"nodeType":"174","messageId":"175","endLine":43,"endColumn":18},{"ruleId":"176","severity":1,"message":"177","line":138,"column":25,"nodeType":"178","endLine":138,"endColumn":42},{"ruleId":"172","severity":1,"message":"179","line":3,"column":34,"nodeType":"174","messageId":"175","endLine":3,"endColumn":40},{"ruleId":"180","severity":1,"message":"181","line":107,"column":7,"nodeType":"182","endLine":107,"endColumn":9,"suggestions":"183"},{"ruleId":"172","severity":1,"message":"184","line":6,"column":32,"nodeType":"174","messageId":"175","endLine":6,"endColumn":43},{"ruleId":"172","severity":1,"message":"185","line":6,"column":45,"nodeType":"174","messageId":"175","endLine":6,"endColumn":55},{"ruleId":"172","severity":1,"message":"186","line":6,"column":69,"nodeType":"174","messageId":"175","endLine":6,"endColumn":78},{"ruleId":"172","severity":1,"message":"187","line":6,"column":86,"nodeType":"174","messageId":"175","endLine":6,"endColumn":91},{"ruleId":"172","severity":1,"message":"188","line":8,"column":8,"nodeType":"174","messageId":"175","endLine":8,"endColumn":16},{"ruleId":"172","severity":1,"message":"189","line":14,"column":8,"nodeType":"174","messageId":"175","endLine":14,"endColumn":16},{"ruleId":"172","severity":1,"message":"190","line":3,"column":31,"nodeType":"174","messageId":"175","endLine":3,"endColumn":40},{"ruleId":"172","severity":1,"message":"191","line":5,"column":10,"nodeType":"174","messageId":"175","endLine":5,"endColumn":31},{"ruleId":"172","severity":1,"message":"192","line":5,"column":33,"nodeType":"174","messageId":"175","endLine":5,"endColumn":46},{"ruleId":"193","severity":1,"message":"194","line":90,"column":27,"nodeType":"195","messageId":"196","endLine":90,"endColumn":37,"fix":"197"},{"ruleId":"198","severity":1,"message":"199","line":90,"column":27,"nodeType":"195","messageId":"200","endLine":90,"endColumn":37},{"ruleId":"201","severity":1,"message":"202","line":104,"column":17,"nodeType":"203","messageId":"204","endLine":129,"endColumn":18},{"ruleId":"176","severity":1,"message":"177","line":185,"column":29,"nodeType":"178","endLine":185,"endColumn":63},{"ruleId":"172","severity":1,"message":"205","line":7,"column":45,"nodeType":"174","messageId":"175","endLine":7,"endColumn":49},{"ruleId":"172","severity":1,"message":"206","line":21,"column":8,"nodeType":"174","messageId":"175","endLine":21,"endColumn":12},{"ruleId":"180","severity":1,"message":"207","line":48,"column":13,"nodeType":"208","endLine":58,"endColumn":4},{"ruleId":"172","severity":1,"message":"209","line":2,"column":42,"nodeType":"174","messageId":"175","endLine":2,"endColumn":48},{"ruleId":"210","severity":1,"message":"211","line":39,"column":9,"nodeType":"212","messageId":"213","endLine":39,"endColumn":16},{"ruleId":"180","severity":1,"message":"207","line":58,"column":15,"nodeType":"208","endLine":75,"endColumn":6},{"ruleId":"180","severity":1,"message":"214","line":59,"column":16,"nodeType":"215","endLine":59,"endColumn":40},{"ruleId":"172","severity":1,"message":"216","line":1,"column":15,"nodeType":"174","messageId":"175","endLine":1,"endColumn":23},{"ruleId":"172","severity":1,"message":"217","line":1,"column":24,"nodeType":"174","messageId":"175","endLine":1,"endColumn":33},{"ruleId":"172","severity":1,"message":"218","line":3,"column":8,"nodeType":"174","messageId":"175","endLine":3,"endColumn":14},{"ruleId":"172","severity":1,"message":"187","line":5,"column":16,"nodeType":"174","messageId":"175","endLine":5,"endColumn":21},{"ruleId":"172","severity":1,"message":"217","line":4,"column":38,"nodeType":"174","messageId":"175","endLine":4,"endColumn":47},{"ruleId":"172","severity":1,"message":"205","line":6,"column":67,"nodeType":"174","messageId":"175","endLine":6,"endColumn":71},{"ruleId":"172","severity":1,"message":"206","line":69,"column":10,"nodeType":"174","messageId":"175","endLine":69,"endColumn":14},{"ruleId":"219","severity":1,"message":"220","line":91,"column":5,"nodeType":"221","messageId":"222","endLine":91,"endColumn":36},{"ruleId":"172","severity":1,"message":"216","line":1,"column":17,"nodeType":"174","messageId":"175","endLine":1,"endColumn":25},{"ruleId":"172","severity":1,"message":"223","line":9,"column":8,"nodeType":"174","messageId":"175","endLine":9,"endColumn":22},{"ruleId":"172","severity":1,"message":"224","line":10,"column":8,"nodeType":"174","messageId":"175","endLine":10,"endColumn":20},{"ruleId":"172","severity":1,"message":"225","line":11,"column":8,"nodeType":"174","messageId":"175","endLine":11,"endColumn":26},{"ruleId":"172","severity":1,"message":"226","line":36,"column":25,"nodeType":"174","messageId":"175","endLine":36,"endColumn":33},{"ruleId":"172","severity":1,"message":"227","line":36,"column":35,"nodeType":"174","messageId":"175","endLine":36,"endColumn":46},{"ruleId":"172","severity":1,"message":"228","line":36,"column":48,"nodeType":"174","messageId":"175","endLine":36,"endColumn":62},{"ruleId":"172","severity":1,"message":"229","line":36,"column":89,"nodeType":"174","messageId":"175","endLine":36,"endColumn":102},{"ruleId":"180","severity":1,"message":"230","line":47,"column":8,"nodeType":"182","endLine":47,"endColumn":10,"suggestions":"231"},{"ruleId":"172","severity":1,"message":"232","line":142,"column":17,"nodeType":"174","messageId":"175","endLine":142,"endColumn":28},{"ruleId":"172","severity":1,"message":"226","line":142,"column":46,"nodeType":"174","messageId":"175","endLine":142,"endColumn":54},{"ruleId":"172","severity":1,"message":"233","line":2,"column":54,"nodeType":"174","messageId":"175","endLine":2,"endColumn":62},{"ruleId":"172","severity":1,"message":"234","line":2,"column":64,"nodeType":"174","messageId":"175","endLine":2,"endColumn":76},{"ruleId":"172","severity":1,"message":"218","line":2,"column":100,"nodeType":"174","messageId":"175","endLine":2,"endColumn":106},{"ruleId":"172","severity":1,"message":"187","line":8,"column":8,"nodeType":"174","messageId":"175","endLine":8,"endColumn":13},{"ruleId":"176","severity":1,"message":"177","line":81,"column":37,"nodeType":"178","endLine":81,"endColumn":79},{"ruleId":"176","severity":1,"message":"177","line":86,"column":33,"nodeType":"178","endLine":86,"endColumn":50},{"ruleId":"172","severity":1,"message":"218","line":4,"column":8,"nodeType":"174","messageId":"175","endLine":4,"endColumn":14},{"ruleId":"172","severity":1,"message":"235","line":12,"column":20,"nodeType":"174","messageId":"175","endLine":12,"endColumn":26},{"ruleId":"172","severity":1,"message":"236","line":13,"column":3,"nodeType":"174","messageId":"175","endLine":13,"endColumn":9},{"ruleId":"172","severity":1,"message":"237","line":14,"column":3,"nodeType":"174","messageId":"175","endLine":14,"endColumn":8},{"ruleId":"238","severity":1,"message":"239","line":73,"column":34,"nodeType":"208","messageId":"240","endLine":73,"endColumn":36},{"ruleId":"180","severity":1,"message":"241","line":80,"column":5,"nodeType":"182","endLine":80,"endColumn":7,"suggestions":"242"},{"ruleId":"172","severity":1,"message":"243","line":1,"column":10,"nodeType":"174","messageId":"175","endLine":1,"endColumn":19},{"ruleId":"180","severity":1,"message":"207","line":20,"column":15,"nodeType":"208","endLine":34,"endColumn":6},{"ruleId":"180","severity":1,"message":"244","line":34,"column":7,"nodeType":"182","endLine":34,"endColumn":9,"suggestions":"245"},{"ruleId":"172","severity":1,"message":"217","line":1,"column":27,"nodeType":"174","messageId":"175","endLine":1,"endColumn":36},{"ruleId":"172","severity":1,"message":"246","line":23,"column":24,"nodeType":"174","messageId":"175","endLine":23,"endColumn":35},"no-native-reassign",["247"],"no-negated-in-lhs",["248"],"no-unused-vars","'loggedIn' is assigned a value but never used.","Identifier","unusedVar","jsx-a11y/alt-text","img elements must have an alt prop, either with meaningful text, or an empty string for decorative images.","JSXOpeningElement","'Avatar' is defined but never used.","react-hooks/exhaustive-deps","React Hook useEffect has a missing dependency: 'getFavorites'. Either include it or remove the dependency array.","ArrayExpression",["249"],"'FormControl' is defined but never used.","'InputLabel' is defined but never used.","'TextField' is defined but never used.","'Paper' is defined but never used.","'FaceIcon' is defined but never used.","'foodIcon' is defined but never used.","'FormLabel' is defined but never used.","'FreeBreakfastOutlined' is defined but never used.","'RedeemRounded' is defined but never used.","new-parens","Missing '()' invoking a constructor.","NewExpression","missing",{"range":"250","text":"251"},"no-new-object","The object literal notation {} is preferrable.","preferLiteral","default-case","Expected a default case.","SwitchStatement","missingDefaultCase","'Grid' is defined but never used.","'user' is assigned a value but never used.","Effect callbacks are synchronous to prevent race conditions. Put the async function inside:\n\nuseEffect(() => {\n  async function fetchData() {\n    // You can await here\n    const response = await MyAPI.getData(someId);\n    // ...\n  }\n  fetchData();\n}, [someId]); // Or [] if effect doesn't need props or state\n\nLearn more about data fetching with Hooks: https://reactjs.org/link/hooks-data-fetching","ArrowFunctionExpression","'Dialog' is defined but never used.","no-dupe-keys","Duplicate key 'display'.","ObjectExpression","unexpected","Assignments to the 'data' variable from inside React Hook useEffect will be lost after each render. To preserve the value over time, store it in a useRef Hook and keep the mutable value in the '.current' property. Otherwise, you can move this variable directly inside useEffect.","AwaitExpression","'useState' is defined but never used.","'useEffect' is defined but never used.","'Button' is defined but never used.","no-lone-blocks","Nested block is redundant.","BlockStatement","redundantNestedBlock","'StarBorderIcon' is defined but never used.","'FavoriteIcon' is defined but never used.","'FavoriteBorderIcon' is defined but never used.","'userRate' is assigned a value but never used.","'setUserRate' is assigned a value but never used.","'setUserComment' is assigned a value but never used.","'userCommentId' is assigned a value but never used.","React Hook useEffect has missing dependencies: 'setCommented' and 'userComment'. Either include them or remove the dependency array.",["252"],"'userComment' is assigned a value but never used.","'GridList' is defined but never used.","'GridListTile' is defined but never used.","'Router' is defined but never used.","'Switch' is defined but never used.","'Route' is defined but never used.","array-callback-return","Array.prototype.map() expects a return value from arrow function.","expectedInside","React Hook useEffect has missing dependencies: 'props.data._id' and 'user'. Either include them or remove the dependency array.",["253"],"'CodeSharp' is defined but never used.","React Hook useEffect has a missing dependency: 'address'. Either include it or remove the dependency array.",["254"],"'setDistance' is assigned a value but never used.","no-global-assign","no-unsafe-negation",{"desc":"255","fix":"256"},[2610,2610],"()",{"desc":"257","fix":"258"},{"desc":"259","fix":"260"},{"desc":"261","fix":"262"},"Update the dependencies array to be: [getFavorites]",{"range":"263","text":"264"},"Update the dependencies array to be: [setCommented, userComment]",{"range":"265","text":"266"},"Update the dependencies array to be: [props.data._id, user]",{"range":"267","text":"268"},"Update the dependencies array to be: [address]",{"range":"269","text":"270"},[2819,2821],"[getFavorites]",[1663,1665],"[setCommented, userComment]",[2109,2111],"[props.data._id, user]",[1448,1450],"[address]"]