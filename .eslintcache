[{"/Users/macbookpro/Desktop/webprogramming/NTUEEat/src/index.js":"1","/Users/macbookpro/Desktop/webprogramming/NTUEEat/src/reportWebVitals.js":"2","/Users/macbookpro/Desktop/webprogramming/NTUEEat/src/App.js":"3","/Users/macbookpro/Desktop/webprogramming/NTUEEat/src/ImageForm.js":"4","/Users/macbookpro/Desktop/webprogramming/NTUEEat/src/StoreMap.js":"5","/Users/macbookpro/Desktop/webprogramming/NTUEEat/src/Register.js":"6"},{"size":500,"mtime":1607753573923,"results":"7","hashOfConfig":"8"},{"size":362,"mtime":1607517413848,"results":"9","hashOfConfig":"8"},{"size":323,"mtime":1607786164097,"results":"10","hashOfConfig":"8"},{"size":2115,"mtime":1607741889586,"results":"11","hashOfConfig":"8"},{"size":1930,"mtime":1607752927002,"results":"12","hashOfConfig":"8"},{"size":4736,"mtime":1607791035933,"results":"13","hashOfConfig":"8"},{"filePath":"14","messages":"15","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"16"},"1qq9xs0",{"filePath":"17","messages":"18","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"16"},{"filePath":"19","messages":"20","errorCount":0,"warningCount":1,"fixableErrorCount":0,"fixableWarningCount":0,"source":"21","usedDeprecatedRules":"16"},{"filePath":"22","messages":"23","errorCount":0,"warningCount":2,"fixableErrorCount":0,"fixableWarningCount":0,"source":"24","usedDeprecatedRules":"25"},{"filePath":"26","messages":"27","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"16"},{"filePath":"28","messages":"29","errorCount":0,"warningCount":5,"fixableErrorCount":0,"fixableWarningCount":0,"source":null},"/Users/macbookpro/Desktop/webprogramming/NTUEEat/src/index.js",[],["30","31"],"/Users/macbookpro/Desktop/webprogramming/NTUEEat/src/reportWebVitals.js",[],"/Users/macbookpro/Desktop/webprogramming/NTUEEat/src/App.js",["32"],"import React from 'react'\nimport StoreMap from './StoreMap'\nimport Register from './Register'\nfunction App(){\n  return(\n    <>\n      {/* <StoreMap storename=\"新馬辣\" coordinates={[25, 121]} location={\"100台北市中正區汀州路三段295號\"} rating={\"4.3\"}/> */}\n      <Register />\n    </>\n  )\n}\nexport default App;\n","/Users/macbookpro/Desktop/webprogramming/NTUEEat/src/ImageForm.js",["33","34"],"import { useEffect, useState} from 'react'\nconst axios = require('axios')\nconst instance = axios.create({baseURL : \"http://localhost:4000\"})\n\n\nfunction ImageForm() {\n  let [previewSource, setPreviewSource] = useState('');\n  let [selectedFiles, setSelectedFiles] = useState([]);\n  let [encodedFiles, setEncodedFiles] = useState([]);\n\n  const handleFileInputChange= async (e) =>　{\n    const fileList = e.target.files;\n    const files = Array.from(fileList);\n    const array = [];\n    previewFiles(files, array);\n    setSelectedFiles(files);\n    setPreviewSource(array);\n  }\n\n  const previewFiles = (files, array) => {\n      files.forEach(file => {\n        const reader = new FileReader();\n        reader.readAsDataURL(file)\n        reader.onloadend = () => {\n          setPreviewSource(prev => [...prev, reader.result])\n        }\n      })\n  }\n  \n  const handleSubmitFiles = (e) => {\n    e.preventDefault();\n    if(!selectedFiles) return;\n    selectedFiles.forEach(file => {\n      const reader = new FileReader();\n      reader.readAsDataURL(file);\n      reader.onloadend = () => {\n        setEncodedFiles(files => [...files, reader.result]);\n      }\n    })\n  }\n\n  useEffect( () => {\n    if(selectedFiles.length === encodedFiles.length \n      && encodedFiles.length !== 0){\n      uploadImages();\n    }\n  }, [encodedFiles])\n\n  const uploadImages = async () => {\n    const res = await instance.post('/stores/addstore', \n    { images : encodedFiles }, // encodedFiles is an array of JSON.strigifys\n    { headers : {'Content-Type' : 'application/json'} })\n    setPreviewSource('');\n  }\n\n  return (\n    <>\n      <form onSubmit={handleSubmitFiles}>\n        <input \n          type=\"file\" \n          name=\"images\" \n          multiple\n          onChange={e => {handleFileInputChange(e)}} \n        />\n        <button type=\"submit\">Submit</button>\n      </form>\n      { previewSource ? previewSource.map(\n        src => {\n          return (<img key={src} src={src} \n            alt=\"chosen\" \n            style={{ height : '300px'}}/>\n          )\n        }\n      )\n        : null\n      }\n    </>\n  )\n}\n\nexport default ImageForm;\n",["35","36"],"/Users/macbookpro/Desktop/webprogramming/NTUEEat/src/StoreMap.js",[],"/Users/macbookpro/Desktop/webprogramming/NTUEEat/src/Register.js",["37","38","39","40","41"],{"ruleId":"42","replacedBy":"43"},{"ruleId":"44","replacedBy":"45"},{"ruleId":"46","severity":1,"message":"47","line":2,"column":8,"nodeType":"48","messageId":"49","endLine":2,"endColumn":16},{"ruleId":"50","severity":1,"message":"51","line":47,"column":6,"nodeType":"52","endLine":47,"endColumn":20,"suggestions":"53"},{"ruleId":"46","severity":1,"message":"54","line":50,"column":11,"nodeType":"48","messageId":"49","endLine":50,"endColumn":14},{"ruleId":"42","replacedBy":"55"},{"ruleId":"44","replacedBy":"56"},{"ruleId":"46","severity":1,"message":"57","line":2,"column":10,"nodeType":"48","messageId":"49","endLine":2,"endColumn":20},{"ruleId":"46","severity":1,"message":"58","line":15,"column":10,"nodeType":"48","messageId":"49","endLine":15,"endColumn":20},{"ruleId":"46","severity":1,"message":"59","line":16,"column":10,"nodeType":"48","messageId":"49","endLine":16,"endColumn":20},{"ruleId":"46","severity":1,"message":"60","line":17,"column":10,"nodeType":"48","messageId":"49","endLine":17,"endColumn":18},{"ruleId":"61","severity":1,"message":"62","line":86,"column":17,"nodeType":"63","endLine":86,"endColumn":35},"no-native-reassign",["64"],"no-negated-in-lhs",["65"],"no-unused-vars","'StoreMap' is defined but never used.","Identifier","unusedVar","react-hooks/exhaustive-deps","React Hook useEffect has missing dependencies: 'selectedFiles.length' and 'uploadImages'. Either include them or remove the dependency array.","ArrayExpression",["66"],"'res' is assigned a value but never used.",["64"],["65"],"'makeStyles' is defined but never used.","'loginError' is assigned a value but never used.","'registered' is assigned a value but never used.","'loggedIn' is assigned a value but never used.","jsx-a11y/alt-text","img elements must have an alt prop, either with meaningful text, or an empty string for decorative images.","JSXOpeningElement","no-global-assign","no-unsafe-negation",{"desc":"67","fix":"68"},"Update the dependencies array to be: [encodedFiles, selectedFiles.length, uploadImages]",{"range":"69","text":"70"},[1303,1317],"[encodedFiles, selectedFiles.length, uploadImages]"]