{"version":3,"sources":["userContext.js","Register.js","Image/foodicon.png","main/Random.js","components/store/Ratestar.js","Profile.js","routes/routes.js","Constants.js","containers/AddStore.js","main/Mainbar.js","main/Navbar.js","main/OutlinedCard.js","main/StoreList.js","main/Main.js","components/store/BasicInfo.js","components/store/userCommentContext.js","components/store/Review.js","StoreMap.js","MapContainer.js","Geolocator.js","containers/storeContainer.js","App.js","reportWebVitals.js","index.js"],"names":["userContext","createContext","instance","axios","create","baseURL","useStyle","makeStyles","theme","root","minWidth","paper","margin","spacing","padding","maxWidth","cardcontent","button","snackbar","Register","classes","useContext","user","setUser","useState","username","setUsername","password","setPassword","usernameError","setUsernameError","passwordError","setPasswordError","registered","setRegistered","setLoggedIn","handleRegister","e","a","post","data","isUnique","console","log","handleLogin","res","invalidUser","invalidPassword","handleClose","handleUsernameError","handlePasswordError","to","Card","className","alignItems","Grid","container","direction","justify","item","Typography","variant","xs","src","TextField","color","label","placeholder","InputProps","startAdornment","InputAdornment","position","AccountCircle","onChange","target","value","Button","onClick","Snackbar","open","autoHideDuration","anchorOrigin","vertical","horizontal","onClose","action","IconButton","size","aria-label","fontSize","Alert","severity","outergrid","card","innercard","text","buttonHelp","paddingLeft","paddingRight","borderRadius","buttonEat","header","Random","CloseBackdrop","result","setResult","getResult","get","useEffect","style","backgroundColor","display","storename","_id","textDecoration","alignSelf","float","RateStar","props","state","rateValue","rateArray","Array","Number","rateNum","fill","this","canClick","setState","handleSelectRate","map","index","width","React","Component","defaultProps","AppBar","marginTop","marginLeft","marginRight","Tab","Avatar","paddingTop","paddingBottom","visit","box1","box2","box3","textfield","createMuiTheme","overrides","MuiTabs","indicator","blue","MuiTab","selected","typography","h1","body1","fontWeight","body2","User","selectedTab","setSelectedTab","comments","setComments","favorites","setFavorites","editComment","setEditComment","updatedContent","setUpdatedContent","updatedStar","setUpdatedStar","getFavorites","getComments","array","comment","prev","fav","handleRemoveFavorite","delete","id","handleEditComment","handleDeleteComment","handleSubmit","content","rating","Paper","indicatorColor","background","Tabs","event","newValue","store","CardContent","Box","ButtonGroup","require","uploadStoreInfo","encodedFiles","headers","response","message","fetchStoreData","storeId","then","catch","err","error","sendComment","storeid","reviseComment","getCoord","addr","regions","avgPrice","cuisines","AddStore","handleChange","urls","files","from","forEach","file","reader","FileReader","readAsDataURL","onloadend","handleValueChange","cap","renew","Object","preventDefault","parsedData","images","entries","key","phone","location","address","lowestPrice","highestPrice","type","JSON","stringify","success","errormessage","sendData","handleSnackbarClose","restaurant","dist","min","max","avg","cuisine","box","onSubmit","autoFocus","required","box4","select","region","MenuItem","price","justifyContent","name","multiple","accept","menu","paper2","Date","now","withStyles","maxHeight","marginBottom","useStyles","appbar","backdrop","zIndex","drawer","Mainbar","setOpen","profilePic","Backdrop","flexGrow","bottom","right","FormControl","minHeight","toolbar","submit","Navbar","Local","Price","Prefer","Submit","search","handleSearch","handlesetSearch","InputLabel","Select","labeled","displayEmpty","handleSetSearch","title","pos","OutlinedCard","check","setCheck","Favorite","userID","storeID","UnFavorite","favor_id","component","disabled","list","StoreList","Main","setContents","setLocal","setPrice","prefer","setPrefer","setSearch","setError","handleError","msg","Error","pricing","preferences","infoList","flexWrap","palette","menuGrid","overflowX","whiteSpace","grid","imageContainer","border","height","cursor","imageButton","left","top","backgroundSize","backgroundPosition","divider","BasicInfo","MenuGrid","menus","ButtonBase","Math","random","List","ListItem","ListItemIcon","ListItemText","primary","storeName","Divider","light","userCommentContext","commentList","overflowY","inlineStar","typeInComment","Review","userComment","commented","userRate","setUserRate","setUserComment","setCommented","setUserCommentId","userCommentId","edit","setEdit","CommentedBox","ListItemAvatar","secondary","Fragment","TypeIn","alert","Comments","push","StoreMap","calculateDistance","userCoords","storeCoords","distance","MapContainer","center","zoom","scrollWheelZoom","TileLayer","draggable","attribution","url","CircleMarker","radius","Popup","coords","isGeolocationAvailable","isGeolocationEnabled","positionError","storeCoordination","setStoreCoordination","latitude","longitude","loc","lat","parseFloat","lat1","lng1","lat2","lng2","Squared","sin","PI","cos","asin","sqrt","Geolocator","altitude","accuracy","altitudeAccuracy","heading","speed","geolocated","positionOptions","enableHighAccuracy","userDecisionTimeout","isOptimisticGeolocationEnabled","watchPosition","overflow","leftBar","marginButtom","info","StoreContainer","useParams","basicInfo","setBasicInfo","review","setReview","setAddress","setStorename","setRating","picture","Provider","App","exact","path","Profile","reportWebVitals","onPerfEntry","Function","getCLS","getFID","getFCP","getLCP","getTTFB","ReactDOM","render","StrictMode","document","getElementById"],"mappings":"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","file":"static/js/main.0223d16d.chunk.js","sourcesContent":["import { createContext } from 'react'\nconst userContext = createContext(null)\nexport default userContext","import { TextField , Card, Button, InputAdornment, Grid, Typography, Snackbar, IconButton} from '@material-ui/core';\nimport { makeStyles } from '@material-ui/core/styles'\nimport Alert from '@material-ui/lab/Alert';\nimport { useState , useContext} from 'react'\nimport logo from './Image/foodicon.png'\nimport { AccountCircle } from '@material-ui/icons'\nimport HighlightOffIcon from '@material-ui/icons/HighlightOff';\nimport LockIcon from '@material-ui/icons/Lock';\nimport axios from 'axios'\nimport userContext from './userContext'\nimport { Redirect } from 'react-router-dom'\n\n\nconst instance = axios.create( { \n    baseURL : \"http://localhost:4000/users\"\n})\nconst useStyle = makeStyles( theme => ({\n    root : {\n        minWidth: 275,\n    },\n    paper : {\n        margin : theme.spacing(20),\n        padding : theme.spacing(4),\n        maxWidth : 'lg',\n        minWidth: 'xs'\n    },\n    cardcontent : {\n        margin : theme.spacing(1),\n    },\n    button : {\n        padding : theme.spacing(1),\n        margin : theme.spacing(2)\n    },\n    snackbar : {\n        padding : theme.spacing(1)\n    }\n}))\nfunction Register(){\n    const classes = useStyle()\n    let {user, setUser} = useContext(userContext)\n    let [username , setUsername] = useState('');\n    let [password, setPassword] = useState('');\n    let [usernameError, setUsernameError] = useState(null);\n    let [passwordError, setPasswordError] = useState(null);\n    let [registered, setRegistered] = useState(false);\n    let [loggedIn, setLoggedIn] = useState(false)\n    const handleUsername = (e) => {\n        let target = e.target\n        setUsername(target.value)\n    }\n    const handlePassword = (e) => {\n        let target = e.target\n        setPassword(target.value)\n    }\n    const handleRegister = async (e) => {\n        if(username && password){\n            setUsernameError(null)\n            setPasswordError(null)\n            let res = await instance.post('/register', {\n                username : username,\n                password : password\n            })\n            if(res.data.isUnique){\n                // redirect to home page with user info\n                console.log('successfully registered')\n                setRegistered(true)\n            }else{\n                // check for username uniqueness\n                setUsernameError('username has been used')\n            }\n        }else{\n            if(!username){\n                setUsernameError('Please enter a username')\n            }else{\n                setUsernameError(null)\n            }\n            if(!password){\n                setPasswordError('Please enter a password')\n            }else{\n                setPasswordError(null);\n            }\n        }\n    }\n    const handleLogin = async (e) => {\n        if(username && password){\n            setUsernameError('')\n            setPasswordError('')\n            let res = await instance.post('/login', {\n                username : username,\n                password : password\n            })\n            if(res.data.invalidUser){\n                setUsernameError('Invalid username')\n            }\n            if(res.data.invalidPassword){\n                setPasswordError('Invalid password')\n            }\n            if(!res.data.invalidUser && !res.data.invalidPassword){\n                setUser(res.data)\n                setLoggedIn(true)\n            }\n        }else{\n            if(!username){\n                setUsernameError('Please enter a username')\n            }else{\n                setUsernameError(null)\n            }\n            if(!password){\n                setPasswordError('Please enter a password')\n            }else{\n                setPasswordError(null);\n            }\n        }\n    }\n    const handleClose = (e) => {\n        setRegistered(false)\n    }\n    const handleUsernameError = () => {\n        setUsernameError(false)\n    }\n    const handlePasswordError = () => {\n        setPasswordError(false)\n    }\n    return(\n        (!user)?\n        (<>\n        <Card className={classes.paper} alignItems=\"center\" >\n            <Grid container direction=\"row\" justify=\"center\" >\n                <Grid item>\n                    <Typography variant=\"h1\">NTUEEAT</Typography>\n                </Grid>\n                <Grid item container direction=\"column\">\n                <Grid\n                    container  \n                    item\n                    alignItems=\"center\"\n                    justify=\"center\"  \n                    direction=\"column\"\n                >\n                    <Grid item xs={8} className={classes.cardcontent}>\n                        <img src={logo}/>\n                    </Grid>\n                    <Grid item xs={8} className={classes.cardcontent}>\n                        <TextField \n                            variant=\"outlined\"\n                            color=\"secondary\"\n                            label=\"Username\"\n                            placeholder=\"Username\"\n                            InputProps={{\n                                startAdornment: (\n                                <InputAdornment position=\"start\">\n                                    <AccountCircle />\n                                </InputAdornment>\n                                ),\n                            }}\n                            onChange={handleUsername}\n                        />\n                    </Grid>\n                    <Grid item xs={8} className={classes.cardcontent}>\n                    <TextField\n                        variant=\"outlined\"\n                        color=\"secondary\"\n                        placeholder=\"Password\"\n                        label=\"Password\"\n                        InputProps={{\n                            startAdornment: (\n                            <InputAdornment position=\"start\">\n                                <LockIcon />\n                            </InputAdornment>\n                            ),\n                        }}\n                        onChange={handlePassword}\n                    />\n                    </Grid>\n                    <Grid item xs={8} className={classes.cardcontent}>\n                        <Button onClick={handleRegister} variant=\"text\" color=\"secondary\" className={classes.button}>\n                            Register\n                        </Button>\n                        <Button onClick={handleLogin} variant=\"text\" color=\"secondary\" className={classes.button}>\n                            Login\n                        </Button>\n                        <Snackbar className={classes.snackbar}\n                            open={registered} \n                            autoHideDuration={4000} \n                            anchorOrigin={{ vertical : 'top', horizontal : 'right' }}\n                            onClose={handleClose}\n                            action={\n                                <IconButton size=\"small\" aria-label=\"close\" color=\"inherit\" onClick={handleClose}>\n                                    <HighlightOffIcon fontSize=\"small\" />\n                                </IconButton>\n                            }\n                        >\n                            <Alert onClose={handleClose} severity=\"success\">\n                            Registration Successful\n                            </Alert>\n                        </Snackbar>\n                        <Snackbar className={classes.snackbar}\n                            anchorOrigin={{ vertical : 'top', horizontal : 'right' }}\n                            open={usernameError} \n                            onClose={handleUsernameError}\n                            autoHideDuration={2000} \n                            action={\n                                <IconButton size=\"small\" aria-label=\"close\" color=\"inherit\" onClick={handleUsernameError} >\n                                    <HighlightOffIcon fontSize=\"small\" />\n                                </IconButton>\n                            }\n                        >\n                            <Alert severity=\"error\" onClose={handleUsernameError}>\n                            {usernameError ? `${usernameError}` : null}\n                            </Alert>\n                        </Snackbar>\n                        <Snackbar className={classes.snackbar}\n                            open={passwordError} \n                            onClose={handlePasswordError}\n                            anchorOrigin={{ vertical : 'top', horizontal : 'right' }}\n                            autoHideDuration={2000} \n                            action={\n                                <IconButton size=\"small\" aria-label=\"close\" color=\"inherit\" onClick={handlePasswordError}>\n                                    <HighlightOffIcon fontSize=\"small\" />\n                                </IconButton>\n                            }\n                        >\n                            <Alert severity=\"error\" onClose={handlePasswordError}>\n                            {passwordError ? `${passwordError}`: null}\n                            </Alert>\n                        </Snackbar>\n                    </Grid>\n                </Grid>\n                </Grid>\n            </Grid>\n            </Card>\n        </>\n        ): <Redirect to=\"/\" />\n    )\n}\nexport default Register","export default \"data:image/png;base64,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\"","import React, {useState, useEffect} from 'react'\nimport { Button, Grid, Typography, Card, Dialog} from '@material-ui/core'\nimport axios from 'axios'\nimport { Link } from 'react-router-dom'\nimport { makeStyles } from '@material-ui/core/styles'\n\nconst instance = axios.create({ baseURL : \"http://localhost:4000\"})\n\nconst useStyle = makeStyles( theme => ({\n    root : {\n        minWidth: 275,\n    },\n    outergrid : {\n        margin : theme.spacing(2),\n        padding : theme.spacing(4),\n        maxWidth : 'lg',\n        minWidth: 'xs'\n    },\n    card : {\n        margin : theme.spacing(1),\n        padding : theme.spacing(4),\n    },\n    innercard : {\n        margin : theme.spacing(2),\n        padding : theme.spacing(4),\n        maxWidth : 'lg',\n        minWidth: 'xs'\n    },\n    text : {\n        margin : theme.spacing(1),\n    },\n    buttonHelp : {\n        paddingLeft : theme.spacing(4),\n        paddingRight : theme.spacing(4),\n        margin : theme.spacing(1),\n        fontSize : 15,\n        borderRadius : 20\n    },\n    buttonEat : {\n        paddingLeft : theme.spacing(2),\n        paddingRight : theme.spacing(2),\n        margin : theme.spacing(1),\n        fontSize : 15,\n        borderRadius : 20\n    },\n    header : {\n        padding : theme.spacing(1),\n        margin : theme.spacing(3),\n    }\n}))\n\nfunction Random({ CloseBackdrop }){\n    const classes = useStyle()\n    const [result, setResult] = useState(null)\n    const getResult = async () => {\n        const res = await instance.get('/stores/random')\n        // console.log(res.data)\n        setResult(res.data)\n    }\n    const handleClose = () => {\n        CloseBackdrop()\n        setResult(null)\n    }\n    useEffect( () => {\n        console.log(result)\n    }, [result])\n    return(\n        <>\n            <Grid container\n                justify=\"center\"\n                direction=\"row\"\n                className={classes.outergrid}\n            >\n                <Card alignItems=\"center\"\n                    justify=\"center\"\n                    style={{backgroundColor: \"#EBEBD3\"}}\n                    className={classes.card}\n                >\n                <Grid item\n                    container \n                    direction=\"column\"\n                    justify=\"center\" \n                >\n                    <Grid item>\n                        <Typography className={classes.header} variant=\"h2\">今天吃什麼</Typography>\n                    </Grid>\n                    <Grid item>\n                        {\n                        (result) ? (\n                            <Card \n                                alignItems=\"center\"\n                                className={classes.innercard}\n                            >\n                                <Typography variant=\"h5\" style={{ display : \"inline-block\" }} className={classes.text}>{result.storename}</Typography>\n                                <Link to={`/store/${result._id}`}\n                                    style={{paddingLeft: 13, \n                                        textDecoration: 'none', \n                                        display: \"inline-block\", \n                                        alignSelf : \"flex-end\",\n                                        float : \"right\"\n                                    }}\n                                >\n                                    <Button\n                                        onClick={()=>handleClose()}\n                                        className={classes.buttonEat}\n                                        style={{ \n                                            backgroundColor : \"#3C3C3B\",\n                                            color : \"#FFFFFF\"\n                                    }}>\n                                        吃！\n                                    </Button>\n                                </Link>\n                            </Card>\n                        ):null\n                        }\n                    </Grid>\n                    <Grid item \n                        container\n                        justify=\"center\"\n                    >\n                        <Button \n                            size=\"large\"\n                            onClick={getResult}\n                        >\n                            救救我！\n                        </Button>\n                        <Button onClick={handleClose}>close</Button>\n                    </Grid>\n                </Grid>\n                </Card>\n            </Grid>\n        </>\n    )\n}\n\nexport default Random;","import React from 'react'\nimport \"./Ratestar.css\"\n\nclass RateStar extends React.Component {\n    static defaultProps = {\n        canClick: true,\n        rateNum: 5,\n        handleSelectRate: null,\n        rateValue: 0\n    }\n\n    constructor (props) {\n        super(props)\n        this.state = {\n            rateValue: 0,\n            rateArray: new Array(Number(props.rateNum)).fill('')\n        }\n    }\n\n    handleSelectRate (value) {\n        if (!this.props.canClick) {\n            return\n        }\n        this.setState({\n            rateValue: value\n        })\n        this.props.handleSelectRate && this.props.handleSelectRate(value)\n    }\n\n    render () {\n        const {rateArray, rateValue} = this.state\n        const {rateNum} = this.props\n        return (\n            <div className=\"rate\">\n                <div className=\"rate__bg\">\n                    {rateArray.map((item, index) => <span onClick={() => this.handleSelectRate(index+1)} key={`rate_${index}`}>☆</span>)}\n                    <div className=\"bg__realrate\" style={{width: `calc(${rateValue ? rateValue : this.props.rateValue} / ${rateNum} * 100%)`}}>\n                        {rateArray.map((item, index) => <span onClick={() => this.handleSelectRate(index+1)} key={`rate_selected_${index}`}>★</span>)}\n                    </div>\n                </div>\n            </div>\n        )\n    }\n}\n\nexport default RateStar","import { useState , useContext, useEffect} from 'react'\nimport userContext from './userContext'\nimport { Tabs, Tab , Typography, Avatar, Card, CardContent, Box,Button, IconButton, TextField, ButtonGroup, Paper} from '@material-ui/core'\nimport { MuiThemeProvider, createMuiTheme } from \"@material-ui/core/styles\";\nimport EditIcon from '@material-ui/icons/Edit';\nimport { makeStyles } from '@material-ui/core/styles'\nimport { blue } from \"@material-ui/core/colors\";\nimport { Link } from 'react-router-dom'\nimport RemoveCircleOutlineIcon from '@material-ui/icons/RemoveCircleOutline';\nimport axios from 'axios'\nimport RateStar from './components/store/Ratestar'\nimport DeleteIcon from '@material-ui/icons/Delete';\n\nconst instance = axios.create({ baseURL : \"http://localhost:4000/users\" })\n\nconst useStyle = makeStyles(theme => ({\n    AppBar : {\n        marginTop : theme.spacing(15),\n        marginLeft : theme.spacing(2),\n        marginRight : theme.spacing(2)\n    },\n    Tab : {\n        padding : theme.spacing(3),\n        paddingLeft : theme.spacing(4),\n        paddingRight : theme.spacing(4),\n    },\n    Avatar : {\n        margin : theme.spacing(5),\n        padding : theme.spacing(15)\n    },\n    username : {\n      paddingLeft : theme.spacing(4),\n      paddingTop : theme.spacing(2),\n      paddingBottom : theme.spacing(2)\n    },\n    Card : {\n      margin : theme.spacing(2),\n      padding : theme.spacing(4)\n    },\n    visit : {\n      margin : theme.spacing(2)\n    },\n    box1 : {\n      borderRadius:20,\n      padding : theme.spacing(1),\n    },\n    box2 : {\n      backgroundColor: \"#D4E6F1\",\n      borderRadius:20,\n      padding : theme.spacing(2)\n    },\n    box3 : {\n      backgroundColor: \"#D4E6F1\",\n      borderRadius:20,\n      width : '100%'\n    },\n    textfield : {\n      padding : theme.spacing(2),\n      borderRadius:20,\n      width : '95%'\n    },\n    button : {\n      margin : theme.spacing(2),\n    }\n}))\n\nconst theme = createMuiTheme({\n    overrides: {\n      MuiTabs: {\n        indicator: {\n          backgroundColor: blue[700]\n        }\n      },\n      MuiTab: {\n        root: {\n        },\n        selected: {\n          backgroundColor: blue[700],\n          color: blue[700],\n        }\n      }\n    },\n    typography: {\n      h1: {\n        fontSize: 18,\n      },\n      body1: {\n        fontWeight: 1000,\n      },\n      body2:{\n        fontWeight : 500\n      }\n    },\n  });\n\nfunction User() {\n    const classes = useStyle()\n    let {user, setUser} = useContext(userContext)\n    let [selectedTab, setSelectedTab] = useState(0)\n    let [comments, setComments] = useState()\n    let [favorites, setFavorites] = useState()\n    let [editComment, setEditComment] = useState()\n    let [updatedContent, setUpdatedContent] = useState()\n    let [updatedStar, setUpdatedStar] = useState()\n    useEffect(() => {\n      getFavorites()\n    },[])\n    const handleChange = (event, newValue) => {\n      setSelectedTab(newValue);\n    };\n    const getComments = async () => {\n      // returns entire user with comments populated\n      const {data} = await instance.get(`/comments/${user._id}`)\n      setComments([...data])\n      const array = data.map(comment => comment._id)\n      setUser(prev => {\n        return {\n          ...prev,\n          comments : [...array]\n        }\n      })\n    }\n    const getFavorites = async () => {\n      // returns entire user with favorites populated\n      const {data} = await instance.get(`/favorites/${user._id}`)\n      setFavorites([...data])\n      const array = data.map(fav => fav._id)\n      setUser(prev => {\n        return {\n          ...prev,\n          favorites : [...array]\n        }\n      })\n    }\n    const handleRemoveFavorite = async (e) => {\n      // returns entire user with favorites populated\n      const {data} = await instance.delete(`/favorite?USERID=${user._id}&STOREID=${e.target.id}`)\n      setFavorites([...data])\n      const array = data.map(fav => fav._id)\n      setUser(prev => {\n        return {\n          ...prev,\n          favorites : [...array]\n        }\n      })\n    }\n    const handleEditComment = async (e) => {\n      setEditComment(e.target.id)\n    }\n    const handleDeleteComment = async (e) => {\n      const {data} = await instance.delete(`/comments?USERID=${user._id}&COMMENTID=${e.target.id}`)\n      setComments([...data])\n      const array = data.map(comment => comment._id)\n      setUser(prev => {\n        return {\n          ...prev,\n          comments : [...array]\n        }\n      })\n    }\n    const handleSubmit = async () => {\n      // renew the comment\n      if(updatedStar && updatedContent){\n        // use the setEditComment to send the comment back\n        const {data} = await instance.post('/comments', {\n          _id : editComment,\n          content : updatedContent,\n          rating : updatedStar\n        })\n        setComments(prev => {\n          let newComments = prev.map(comment => {\n            if(comment._id === data._id){\n              comment.content = data.content\n              comment.rating = data.rating\n            }\n            return comment\n          })\n          return newComments\n        })\n      }\n      setEditComment(null)\n      setUpdatedContent('')\n      setUpdatedStar(null)\n    }\n    return(\n        <MuiThemeProvider theme={theme}>\n            <Paper \n            className={classes.AppBar}\n            indicatorColor=\"secondary\"\n            style={{ background : \"#D4E6F1\", color : \"#000000\" }}\n            position=\"static\">\n            {/* <Avatar className={classes.Avatar}>P</Avatar> */}\n            <Typography className={classes.username} variant=\"h3\" style={{color : \"#000000\"}}>{user.username}</Typography>\n            <Tabs value={selectedTab} onChange={handleChange}>\n                <Tab className={classes.Tab} value={0} label=\"Favorites\" onClick={getFavorites}/>\n                <Tab className={classes.Tab} value={1} label=\"Reviews\" onClick={getComments}/>\n                <Tab className={classes.Tab} value={2} label=\"Settings\"/>\n            </Tabs>\n            </Paper>\n            {(selectedTab === 0 && favorites) ? (\n              favorites.map(store => {\n                return(\n                  <Card className={classes.Card}>\n                    <CardContent>\n                      <Typography style={{ display: 'inline-block' }} >{store.storename}</Typography>\n                      <Link style={{textDecoration : \"none\"}}to={`/store/${store._id}`}>\n                        <Button className={classes.visit}variant=\"outlined\">Visit</Button>\n                      </Link>\n                      <IconButton onClick={(e) => {handleRemoveFavorite(e)}}>\n                        <RemoveCircleOutlineIcon style={{ display: 'inline-block' }} id={store._id}></RemoveCircleOutlineIcon>\n                      </IconButton>\n                    </CardContent>\n                  </Card>)\n              })) : null}\n            {(selectedTab === 1 && comments) ? (\n              comments.map(comment => {\n                if(editComment===comment._id){\n                  return(\n                    <>\n                    <Card className={classes.Card}>\n                    <CardContent>\n                      <Box className={classes.box1}>\n                      <Typography variant=\"body1\">{comment.storename}</Typography>\n                      <RateStar handleSelectRate={setUpdatedStar}/>\n                      </Box>\n                      <Box className={classes.box3}>\n                      <TextField  className={classes.textfield}value={updatedContent} onChange={(e)=>setUpdatedContent(e.target.value)}></TextField>\n                      <Button className={classes.button} onClick={handleSubmit}>Update</Button>\n                      </Box>\n                    </CardContent>\n                    </Card>\n                    </>\n                  )\n                }\n                return(\n                  <Card className={classes.Card}>\n                    <CardContent>\n                      <Box className={classes.box1}>\n                      <Typography variant=\"body1\">{comment.storename}</Typography>\n                      <Typography style={{ display : 'inline-block'}} variant=\"body2\">{`rating : ${comment.rating}`}</Typography>\n                      </Box>\n                      <Box className={classes.box2}>\n                      <Typography style={{ display : 'block'}} variant=\"body2\">{comment.content}</Typography>\n                      </Box>\n                      <Box className={classes.box1}>\n                        <ButtonGroup>\n                        <IconButton onClick={(e) => {handleEditComment(e)}}><EditIcon id={comment._id}></EditIcon></IconButton>\n                        <IconButton onClick={(e) => {handleDeleteComment(e)}}><DeleteIcon id={comment._id}></DeleteIcon></IconButton>\n                        </ButtonGroup>\n                      </Box>\n                    </CardContent>\n                  </Card>\n                )\n              })\n            ) : null}\n        </MuiThemeProvider>\n    )\n}\nexport default User;","const axios = require('axios');\n\nconst instance = axios.create({baseURL : \"http://localhost:4000\"});\n\n// AddStore\nconst uploadStoreInfo = async (encodedFiles) => {\n    let response;\n    try{\n        const { data } = await instance.post('/stores/addstore', \n            encodedFiles,\n            { headers : {'Content-Type' : 'application/json'} }\n        )\n        // console.log('i success')\n        console.log('data: ', data)\n        if(data){\n            response = data.message\n            console.log(response)\n        }else{\n            console.log('flag')\n            response = 'success'\n        }\n    }catch(err){\n        console.log('i fail')\n        response = 'client-side error'\n    }\n    return response;\n}\n\n// Store\nconst fetchStoreData = async (storeId) => {\n    let response;\n    await instance.get(`/stores/store/${storeId}`)\n    .then(res => {\n        response = res.data;\n    })\n    .catch(err => { \n        console.error('Error : ',err)\n        response = \"error\" \n    })\n    return response;\n}\n\n// Comment\n\nconst sendComment = async (data) => {\n    let response;\n    await instance.post(`/stores/store/${data.storeid}`, data)\n    .then(res => {response = res})\n    .catch(err => {\n        throw err\n    })\n    return response;\n}\n\nconst reviseComment = async (data) => {\n    let response;\n    await instance.post('/users/comments', data)\n    .then(res => response = res)\n    .catch(err => {\n        console.log(err)\n    })\n    return response\n}\n\nconst getCoord = async (addr) => {\n    let response;\n    response = await instance.post('/stores/geo', {addr: addr})\n    .then(res => {\n        //console.log('data: ', res)\n        return res.data\n    })\n    .catch(err => {\n        response = 'error'\n        console.log('error: ', err)\n    })\n    //console.log('response: ', response)\n    return response\n}\n\nexport { uploadStoreInfo, fetchStoreData, sendComment, reviseComment, getCoord };\n","export const regions = ['公館', '118巷', '溫州街'];\nexport const avgPrice = ['< $100', '$100 ~ $150', '$150 ~ $200', '$200 ~ $250', '$250 ~ $300', '> $300'];\nexport const cuisines = ['台式', '中式', '韓式', '日式', '南洋', '義式', '其他']; ","import { Component } from 'react';\nimport { uploadStoreInfo } from '../routes/routes';\nimport { TextField, MenuItem, FormLabel, Button, IconButton, Snackbar, Box, Grid, Paper, Typography} from '@material-ui/core';\nimport { regions, avgPrice, cuisines } from '../Constants';\nimport { FreeBreakfastOutlined, RedeemRounded} from '@material-ui/icons';\nimport Alert from '@material-ui/lab/Alert';\nimport HighlightOffIcon from '@material-ui/icons/HighlightOff';\nimport { Redirect } from 'react-router-dom'\nimport { withStyles } from \"@material-ui/core/styles\";\n\nconst styles = theme => ({\n    root: {\n      backgroundColor: \"red\"\n    },\n    paper : {\n        padding : theme.spacing(4),\n        marginTop : theme.spacing(15)\n    },\n    paper2 : {\n        padding : theme.spacing(2),\n        margin : theme.spacing(1),\n        maxWidth : '100%',\n        maxHeight : '100%',\n    },\n    box : {\n        backgroundColor: \"#D4E6F1\",\n        borderRadius:20,\n        padding : theme.spacing(2),\n        marginTop : theme.spacing(2),\n        marginBottom : theme.spacing(2),\n    },\n    box2 : {\n        maxWidth : '40%',\n        maxHeight : '40%',\n    },\n    box3 : {\n        backgroundColor: \"#F2EDEB\",\n        borderRadius:20,\n        padding : theme.spacing(2),\n        marginTop : theme.spacing(2),\n        marginBottom : theme.spacing(2),\n    },\n    box4 : {\n        backgroundColor: \"#F7F0F5\",\n        borderRadius:20,\n        padding : theme.spacing(2),\n        marginTop : theme.spacing(2),\n        marginBottom : theme.spacing(2),\n    },\n});\n\n// Required: TextField, Select \nclass AddStore extends Component {\n    constructor(props){\n        super(props);\n        this.state = {\n            urls: [],\n            restaurant: null,\n            phone: null,\n            dist: null,\n            address: null,\n            min: null,\n            max: null,\n            avg: null,\n            cuisine: null,\n            errormessage: null,\n            error : false,\n            success : false\n        }\n    }\n\n    handleChange = event => {\n        this.setState({urls: []})\n        if (event.target.files){\n            const files = Array.from(event.target.files);\n           files.forEach(file => {\n               const reader = new FileReader();\n               reader.readAsDataURL(file);\n               reader.onloadend = () => {\n                   this.setState((prev) => ({\n                    urls: [...prev.urls, reader.result]\n                   }))\n               }\n           }); \n        }\n    }\n\n    handleValueChange = cap => {\n        const handleChange = event => {\n            const renew = new Object;\n            renew[cap] = event.target.value;\n            this.setState(renew);\n        }\n        return handleChange;\n    }\n\n    handleSubmit = async(e) => {\n        e.preventDefault();\n        const sendData = async () => {\n            const parsedData = { \n                images: this.state.urls \n            };\n            for (let [key, value] of Object.entries(this.state)) {\n                switch(key){\n                    case 'restaurant':\n                        parsedData.storename = value;\n                        break;\n                    case 'phone':\n                        parsedData.phone = value;\n                        break;\n                    case 'dist':\n                        parsedData.location = value;\n                        break;\n                    case 'address':\n                        parsedData.address = value;\n                        break;\n                    case 'min':\n                        if (value) parsedData.lowestPrice = value;\n                        break;\n                    case 'max':\n                        if (value) parsedData.highestPrice = value;\n                        break;\n                    case 'avg':\n                        parsedData.avgPrice = value;\n                        break;\n                    case 'cuisine':\n                        parsedData.type = value;\n                        break;\n                }\n            }\n            const res = await uploadStoreInfo(JSON.stringify(parsedData));\n            // res should either be success or the error message\n            if(res === \"success\"){\n                this.setState({\n                    success : true\n                })\n            } else if (res === 'client-side error') {\n                this.setState({\n                    errormessage: '系統出了一點問題QAQ 拜託再試一次Orz'\n                })\n            } else if(res !== \"success\"){\n                this.setState({\n                    error: true,\n                    errormessage : res\n                })\n            }\n        }\n        sendData();\n    }\n\n    handleSnackbarClose = () => {\n        this.setState({\n            error : false\n        })\n    }\n    render() {\n        const { classes } = this.props;\n        console.log('success', this.state.success)\n        return (\n            <>\n            {(!this.state.success) ? (\n            <Paper className={classes.paper}>\n            <Box className={classes.box}><Typography variant=\"h3\">表單</Typography></Box>\n            <form onSubmit={this.handleSubmit}>\n            <Grid container spacing={3} justify=\"center\">\n                <Grid item xs={6}><Box className={classes.box3}><TextField label=\"餐廳名稱\" variant=\"outlined\" autoFocus={true} onChange={this.handleValueChange('restaurant')} required/></Box></Grid>\n                <Grid item xs={6}><Box className={classes.box3}><TextField label=\"電話\" variant=\"outlined\" onChange={this.handleValueChange('phone')}/></Box></Grid>\n                \n                <Grid item xs={6}><Box className={classes.box4}><TextField label=\"區域\" variant=\"outlined\" onChange={this.handleValueChange('dist')} select>{regions.map(region => <MenuItem key={region} value={region}>{region}</MenuItem>)}</TextField></Box></Grid>\n                <Grid item xs={6}><Box className={classes.box4}><TextField label=\"地址\" variant=\"outlined\" onChange={this.handleValueChange('address')} required/></Box></Grid>\n                \n                <Grid item xs={6}><Box className={classes.box3}><TextField label=\"最低品項單價\" variant=\"outlined\" onChange={this.handleValueChange('min')}/></Box></Grid>\n                <Grid item xs={6}><Box className={classes.box3}><TextField label=\"最高品項單價\" variant=\"outlined\" onChange={this.handleValueChange('max')}/></Box></Grid>\n                <Grid item xs={6}><Box className={classes.box4}><TextField label=\"平均價位\" variant=\"outlined\" onChange={this.handleValueChange('avg')} select required>{avgPrice.map(price => <MenuItem key={price} value={price}>{price}</MenuItem>)}</TextField></Box></Grid>\n                <Grid item xs={6}><Box className={classes.box4}><TextField label=\"類別\" variant=\"outlined\" onChange={this.handleValueChange('cuisine')} select required>{cuisines.map(cuisine => <MenuItem key={cuisine} value={cuisine}>{cuisine}</MenuItem>)}</TextField></Box></Grid>\n                <Grid item xs={12}>\n                    <Box className={classes.box} justifyContent=\"center\">\n                        <div><Typography>上傳至少一張菜單圖片ㄅ～</Typography></div>\n                        <input name=\"file\" type=\"file\" onChange={this.handleChange} multiple={true} accept=\"image/\" required/>\n                    </Box>\n                <Grid item container>\n                    {this.state.urls.map(menu => \n                    <Grid item>\n                        <Paper className={classes.paper2} key={Date.now()}>\n                            <img className=\"menu\" src={menu}/>\n                        </Paper>\n                    </Grid>)\n                    }\n                </Grid>\n                <Grid item><Button type=\"submit\" variant=\"outlined\">送出</Button></Grid>\n                </Grid>\n                </Grid>\n            </form>\n            <Snackbar \n                anchorOrigin={{ vertical : 'top', horizontal : 'right' }}\n                open={this.state.error} \n                onClose={this.handleSnackbarClose}\n                autoHideDuration={2000} \n                action={\n                    <IconButton size=\"small\" aria-label=\"close\" color=\"inherit\" onClick={this.handleSnackbarClose} >\n                        <HighlightOffIcon fontSize=\"small\"/>\n                    </IconButton>\n                }\n            >\n                <Alert severity=\"error\" onClose={this.handleSnackbarClose}>\n                {(this.state.error) ? `${this.state.errormessage}` : null}\n                </Alert>\n            </Snackbar>\n            </Paper>) : <Redirect to=\"/\" />\n            }\n            </>\n        )\n    }\n}\n\nexport default withStyles(styles)(AddStore);","\nimport Button from '@material-ui/core/Button';\nimport AppBar from '@material-ui/core/AppBar';\nimport React, {useState , useContext} from \"react\";\nimport Random from './Random'\nimport { IconButton, Backdrop, FormControl, InputLabel, makeStyles, TextField, Grid, Paper} from '@material-ui/core';\nimport EmojiObjectsIcon from '@material-ui/icons/EmojiObjects';\nimport FaceIcon from '@material-ui/icons/Face';\nimport './Navbar.css';\nimport AddCircleIcon from '@material-ui/icons/AddCircle';\nimport HomeIcon from '@material-ui/icons/Home';\nimport userContext from '../userContext'\nimport ExitToAppIcon from '@material-ui/icons/ExitToApp';\nimport foodIcon from '../Image/foodicon.png'\nimport { Avatar } from '@material-ui/core';\n\n// import instance from \"../routes\"\nimport { Link } from 'react-router-dom'  \n\nconst useStyles=makeStyles((theme)=>({\n    appbar:{\n        display: 'flex',\n        padding : theme.spacing(3),\n        backgroundColor : \"#D4E6F1\"\n    },\n    Button:{\n        margin:theme.spacing(2),\n        alignSelf: 'flex',\n    },\n    backdrop: {\n        zIndex: theme.zIndex.drawer + 1,\n        color: '#fff',\n    }\n}))\n\nexport default function Mainbar(){\n    let {user, setUser} = useContext(userContext)\n    const classes=useStyles();\n    const[open, setOpen] = useState(false)\n    const handleClose = () => {\n        setOpen(false)\n    }\n    const handleLogOut = () => {\n        setUser(null)\n    }\n    return(\n        <>\n        <Grid container>\n        <AppBar className={classes.appbar}>\n            <Grid item container spacing={2} style={{display: \"flex\" , justifyContent: 'flex-end'}}>\n                {\n                    (user) ? (\n                        <>\n                        <Grid item><Link to='/' style={{ textDecoration : \"none\" }}><IconButton><HomeIcon></HomeIcon></IconButton></Link></Grid>\n                        <Grid item><IconButton><ExitToAppIcon onClick={handleLogOut}></ExitToAppIcon></IconButton></Grid>\n                        <Grid item><Link to=\"/addstore\" style={{ textDecoration : \"none\"}}><IconButton><AddCircleIcon></AddCircleIcon></IconButton></Link></Grid>\n                        <Grid item><IconButton onClick={() => setOpen(prev => !prev)}><EmojiObjectsIcon></EmojiObjectsIcon></IconButton></Grid>\n                        <Grid item><Link to=\"/profile\" style={{ textDecoration : \"none\"}}><IconButton><Avatar src={user.profilePic} /></IconButton></Link></Grid>\n                        </>\n                    ) : (\n                        <Grid item>\n                            <Link to=\"/login\" style={{ textDecoration : \"none\"}}><Button className={classes.Button} variant=\"outlined\" color=\"default\" size=\"large\">Login</Button></Link>\n                            <Link to='/' style={{ textDecoration : \"none\" }}><IconButton><HomeIcon></HomeIcon></IconButton></Link>\n                            <IconButton onClick={() => setOpen(prev => !prev)}><EmojiObjectsIcon></EmojiObjectsIcon></IconButton>\n                        </Grid>\n                    )\n                }\n            </Grid>\n        </AppBar>\n        </Grid>\n        <Backdrop open={open} className={classes.backdrop}>\n            <Random CloseBackdrop={handleClose}/>\n        </Backdrop>\n        </>\n    )\n}\n\n","import axios from 'axios'\nimport Select from '@material-ui/core/Select';\nimport Button from '@material-ui/core/Button';\nimport MenuItem from '@material-ui/core/MenuItem';\nimport React, {useState, useContext, useEffect} from \"react\";\nimport Random from './Random'\nimport {Backdrop, FormControl, InputLabel, makeStyles, TextField, Grid, Paper, Box} from '@material-ui/core';\nimport userContext from '../userContext'\nimport './Navbar.css';\n\n\nconst useStyles = makeStyles((theme)=>({\n    root: {\n        flexGrow: 1,\n        display : 'flex',\n        // position: 'fixed',\n        bottom: theme.spacing(2),\n        right: theme.spacing(2),\n    },\n    FormControl:{\n        marginRight : theme.spacing(7),\n        marginLeft : theme.spacing(7),\n        marginTop : theme.spacing(2),\n        marginBottom : theme.spacing(2),\n        // display : 'flex', \n        minWidth : '20%',\n        minHeight : '10%',\n        alignSelf : 'flex-end',\n        flexGrow : 1,  \n    },\n    toolbar: {\n        minHeight: 128,\n        alignItems: 'fixed-end',\n        paddingTop: theme.spacing(1),\n        paddingBottom: theme.spacing(2),\n    },\n    submit : {\n        margin : theme.spacing(5),\n    },\n    button:{\n        marginLeft : theme.spacing(2),\n        alignSelf: 'flex',\n    },\n    Avatar:{\n        margin:theme.spacing(0),\n    },\n    backdrop: {\n        zIndex: theme.zIndex.drawer + 1,\n        color: '#fff',\n    },\n    paper : {\n        marginTop : theme.spacing(16),\n        marginRight : theme.spacing(2),\n        marginLeft : theme.spacing(2),\n        padding : theme.spacing(2)\n    },\n    box2 : {\n        margin : theme.spacing(2),\n        // display : 'flex',\n        backgroundColor: \"#D4E6F1\",\n        borderRadius:20,\n        padding : theme.spacing(2)\n    },\n    select : {\n        minWidth : '40%'\n    }\n}))\n\nexport default function Navbar({Local,Price,Prefer,Submit,search,handleSearch,handlesetSearch}){\n    let {user} = useContext(userContext)\n    const classes=useStyles();\n   \n    const[open, setOpen] = useState(false)\n    // const[search, setSearch] = useState('')\n    const handleChangelocal= e =>{\n        Local(e.target.value)\n    };\n    const handleChangeprice= e =>{\n        Price(e.target.value)\n    };\n    const handleChangeprefer= e =>{\n        Prefer(e.target.value)\n    };\n    const handleClose = () => {\n        setOpen(false)\n    }\n    const handleSetSearch = (e) => {\n        handlesetSearch(e.target.value)\n    }\n   \n    \n    {console.log(\"search\",search);}\n    return(\n        <>\n            <Paper className={classes.paper}>\n                <Box className={classes.box2}>\n                        <FormControl className={classes.FormControl}>\n                        <InputLabel>location</InputLabel>\n                        <Select className={classes.select}\n                        labeled=\"select-location\"\n                        id=\"location-select\"\n                        displayEmpty\n                        // value={location}\n                        onChange={handleChangelocal}\n                        >\n                            {/* <MenuItem value=\"\">Empty</MenuItem> */}\n                            <MenuItem value={\"118\"}>118巷</MenuItem>\n                            <MenuItem value={\"公館\"}>公館</MenuItem>\n                            <MenuItem value={\"溫州街\"}>溫州街</MenuItem>\n\n                        </Select>\n                    </FormControl>\n                        <FormControl className={classes.FormControl} >\n                        <InputLabel>Price</InputLabel>\n                        <Select className=\"select\"\n                        labeled=\"select-price\"\n                        id=\"price-select\"\n                        displayEmpty\n                        // value={price}\n                        onChange={handleChangeprice}\n                        >\n                            {/* <MenuItem value={\"\"}>Empty</MenuItem> */}\n                            <MenuItem value={\"$\"}>$</MenuItem>\n                            <MenuItem value={\"$$\"}>$$</MenuItem>\n                            <MenuItem value={\"$$$\"}>$$$</MenuItem>\n                        </Select>\n                    </FormControl>\n                        <FormControl className={classes.FormControl} >\n                        <InputLabel>Preference</InputLabel>\n                        <Select className=\"select\"\n                        labeled=\"select-prefer\"\n                        id=\"prefer-select\"\n                        displayEmpty\n                        // value={prefer}\n                        onChange={handleChangeprefer}\n                        >\n                            {/* <MenuItem value={\"\"}>Empty</MenuItem> */}\n                            <MenuItem value={\"台式\"}>台式</MenuItem>\n                            <MenuItem value={\"中式\"}>中式</MenuItem>\n                            <MenuItem value={\"韓式\"} >韓式</MenuItem>\n                            <MenuItem value={\"日式\"}>日式</MenuItem>\n                            <MenuItem value={\"美式\"}>美式</MenuItem>\n                            <MenuItem value={\"南洋\"}>南洋</MenuItem>\n                            <MenuItem value={\"其他\"}>其他</MenuItem>\n                        </Select>\n                        </FormControl>\n                        <FormControl className={classes.submit}>\n                            <Button onClick={Submit}>Submit</Button>\n                        </FormControl>\n                    </Box>\n                    <Box className={classes.box2} alignItems=\"center\" justifyContent=\"center\">\n                        <TextField className={classes.button} value={search} variant=\"outlined\" label=\"Restaurant name\" onChange={(e) => handleSetSearch(e)}></TextField>\n                        <Button className={classes.button} onClick={handleSearch}>Search</Button>\n                    </Box>\n            </Paper>\n            <Backdrop open={open} className={classes.backdrop}>\n                <Random CloseBackdrop={handleClose}/>\n            </Backdrop>\n        {/* // </Grid> */}\n       </>\n    )\n}\n\n","import React, { useState , useContext,useEffect} from 'react';\nimport { makeStyles } from '@material-ui/core/styles';\nimport Card from '@material-ui/core/Card';\nimport Button from '@material-ui/core/Button';\nimport Grid from '@material-ui/core/Grid';\nimport Typography from '@material-ui/core/Typography';\nimport IconButton from '@material-ui/core/IconButton';\nimport FavoriteIcon from '@material-ui/icons/Favorite';\nimport StarIcon from '@material-ui/icons/Star';\nimport FavoriteBorderIcon from '@material-ui/icons/FavoriteBorder';\nimport { \n  BrowserRouter as Router,\n  Switch,\n  Route,\n  Link\n} from 'react-router-dom' \n\nimport axios from \"axios\"\nimport userContext from '../userContext'\n// import { Box } from '@material-ui/core';\nconst instance = axios.create({ baseURL : \"http://localhost:4000/\"});\n\nconst useStyles = makeStyles(theme => ({\n  root: {\n    maxWidth: '100%',\n    margin : theme.spacing(2),\n    padding : theme.spacing(2)\n  },\n  title: {\n    fontSize: 14,\n  },\n  pos: {\n    marginBottom: 12,\n  },\n  typography : {\n    marginRight : theme.spacing(2)\n  }\n}));\n\nexport default function OutlinedCard(props) {\n  const classes = useStyles();\n  const[check, setCheck]=useState(false)\n  // const[firstcheck,setFirstcheck]=useState(false)\n  let {user, setUser} = useContext(userContext)\n  \n  const Favorite = async() => {\n    console.log('data:', user._id,props.data._id);\n    const {data}= await instance.post(\"/users/favorite\",{ \n      userID : user._id,\n      storeID : props.data._id\n    })\n    const array = data.map(fav => fav._id)\n    setUser(prev => {\n      return {\n        ...prev,\n        favorites : [...array]\n      }\n    })\n  }\n  \n  const UnFavorite=async()=>{\n      const {data}= await instance.delete(`/users/favorite?USERID=${user._id}&STOREID=${props.data._id}`)\n      const array = data.map(fav => fav._id)\n      setUser(prev => {\n        return {\n          ...prev,\n          favorites : [...array]\n        }\n      })\n  }\n  useEffect(()=>{\n    if(user){\n      user.favorites.map(favor_id=>{\n        if(props.data._id===favor_id){\n          setCheck(true);\n        }})\n    }else{\n      console.log(\"1Login ,please\");\n    }\n  },[])\n  \n    return (\n    <Card className={classes.root} variant=\"outlined\">\n        <Grid container direction=\"row\" alignItems=\"center\" spacing={2} justify=\"space-between\">\n          <Grid item>\n            <Link to ={`/store/${props.data._id}`} style={{textDecoration:\"none\",color:\"black\"}} >\n              <Typography variant=\"h5\" component=\"h2\">\n                {props.data.storename}\n              </Typography>\n            </Link>\n          </Grid>\n          <Grid item>\n              <IconButton aria-label=\"add to favorites\" onClick={()=>setCheck(()=>{\n                if(check){UnFavorite();}else{Favorite();} console.log(\"check1\",check); return !check})} disabled={!user}>\n                { check ?\n                  <FavoriteIcon id={props.data._id} color='error'/> :\n                  <FavoriteIcon />\n                }\n              </IconButton>\n            </Grid>\n          <Grid item container>\n            <Grid item>\n              <StarIcon></StarIcon>\n            </Grid>\n            <Grid item>\n              <Typography className={classes.typography}>\n              {props.data.rating? (`${props.data.rating}`): 0 }\n              </Typography>\n            </Grid>\n            <Grid item>\n              <FavoriteBorderIcon></FavoriteBorderIcon>\n            </Grid>\n            <Grid item>\n              <Typography className={classes.typography}>\n              {props.data.favorites? (`${props.data.favorites}`): 0 }\n              </Typography>\n            </Grid>\n          </Grid>\n        </Grid>\n    </Card>\n  )\n\n  \n}\n","import React,{useState,useEffect} from 'react';\nimport { makeStyles } from '@material-ui/core/styles';\nimport Button from '@material-ui/core/Button';\nimport OutlinedCard from \"./OutlinedCard\"\nimport { Grid, Paper } from '@material-ui/core';\n// import  { uploadStoreInfo, fetchStoreData } from \"../routes/routes\";\n// import axios from \"axios\";\n// import { \n//   BrowserRouter as Router,\n//   Switch,\n//   Route,\n//   Link\n// } from 'react-router-dom' \n\n// const instance = axios.create({baseURL : \"http://localhost:4000\"});\n\nconst useStyles = makeStyles((theme)=>({\n    list : {\n      margin : theme.spacing(2)\n    }  \n  }));\n  \nexport default function StoreList(props){\n    const classes = useStyles();\n    return( \n      <>\n        <Grid container justify=\"center\" className={classes.list}>\n            {\n              props.data ? \n              props.data.map(item=> {\n                return (\n                  <Grid item xs={8}>\n                    <OutlinedCard data={item} key={item._id} />\n                  </Grid>\n                )}) : null\n            }          \n        </Grid>\n      </>\n    )\n}\n","// import Button from '@material-ui/core/Button';\nimport Navbar from './Navbar'\nimport StoreList from \"./StoreList\"\nimport axios from \"axios\"\nimport Alert from '@material-ui/lab/Alert';\nimport HighlightOffIcon from '@material-ui/icons/HighlightOff';\nimport { makeStyles, Snackbar , IconButton, Grid} from '@material-ui/core'\nimport { useState ,useEffect , useContext} from 'react'\nimport userContext from '../userContext'\n\nconst useStyles = makeStyles(theme => ({\n  snackbar : {\n    padding : theme.spacing(1)\n  },\n}))\n\n\nconst instance = axios.create({baseURL : \"http://localhost:4000/stores\"});\nexport default function Main() {\n  \n  let {user} = useContext(userContext)\n  const classes = useStyles()\n  const [content,setContents]=useState(\"\") \n  const[location,setLocal] = useState(\"\");\n  const[price,setPrice] = useState(\"\");\n  const[prefer,setPrefer] = useState(\"\");\n  const[search,setSearch] = useState(\"\")\n  let [error,setError] = useState(null)\n\n  const handleSetLocal = (e) => {\n    setLocal(e)\n  }\n  const handleSetPrice = (e) => {\n    setPrice(e)\n  }\n  const handleSetPrefer = (e) => {\n    setPrefer(e)\n  }\n  const handleClose = () => {\n    setError(false)\n  }\n  const handleError = () => {\n    setError(false)\n  }\n  const handlesetSearch = (e) => {\n    setSearch(e)\n  } \n  useEffect(async ()=>{\n    const {data} = await instance.get(\"/\");\n    if(data.msg){\n      setContents(null)\n    }else if(data.Error){\n      console.log(data.Error)\n    }else{\n      setContents(data);\n    }\n   \n  },[])\n\n  const Submit = async() => {\n    const {data} = await instance.post(\"/\",{\n      pricing:price,\n      location:location,\n      preferences:prefer\n    });\n    console.log(\"data\",data)\n    if(data.msg){\n      setContents(null)\n    }else if(data.Error){\n      console.log(data.Error)\n    }else{\n      setContents(data);\n    }\n  }\n  const handleSearch = async()=>{\n    const {data} = await instance.post(`/search/?QUERY=${search}`)\n    if(data.msg){\n      setContents(null)\n    }else if(data.Error){\n      console.log(data.Error)\n    }else{\n      setContents(data);\n    }\n  }\n  return (\n      <div className=\"main\">\n        <Navbar Local={handleSetLocal} Price={handleSetPrice} Prefer={handleSetPrefer} Submit={Submit} search={search} handleSearch={handleSearch} handlesetSearch={handlesetSearch}/>\n        <div className=\"stores\">\n              <StoreList className=\"storeList\" data={content}/>\n        </div>\n        <Snackbar className={classes.snackbar}\n                  anchorOrigin={{ vertical : 'top', horizontal : 'right' }}\n                  open={error} \n                  onClose={handleClose}\n                  autoHideDuration={2000} \n                  action={\n                      <IconButton size=\"small\" aria-label=\"close\" color=\"inherit\" onClick={handleError} >\n                          <HighlightOffIcon fontSize=\"small\" />\n                      </IconButton>\n                  }\n              >\n                  <Alert severity=\"error\" onClose={handleError}>\n                  {error ? `${error}` : null}\n                  </Alert>\n              </Snackbar>\n      </div>\n      \n    );\n}\n","import { useState } from 'react';\nimport { List, ListItem, ListItemIcon, ListItemText, GridList, GridListTile, Backdrop, ButtonBase, Button } from '@material-ui/core';\nimport { makeStyles } from '@material-ui/core/styles';\nimport RestaurantIcon from '@material-ui/icons/Restaurant';\nimport PhoneIcon from '@material-ui/icons/Phone';\nimport RoomIcon from '@material-ui/icons/Room';\nimport Divider from '@material-ui/core/Divider';\nimport Paper from '@material-ui/core/Paper';\n\nconst useStyles = makeStyles(theme => (\n    {\n        infoList: {\n            // display: 'inline-flex',\n            flexWrap: 'wrap',\n            width: '100%',\n            backgroundColor: theme.palette.background.paper,\n        },\n        menuGrid: {\n            display: 'block',\n            width: '100%',\n            overflowX: 'auto',\n            whiteSpace: 'nowrap'\n        },\n        grid: {\n            display: 'inline'\n        },\n        imageContainer: {\n            position: 'relative',\n            border: '5px',\n            height: 100,\n            '&:hover': {\n                cursor: 'pointer',\n            }\n        },\n        imageButton: {\n            position: 'absolute',\n            height: '100%',\n            left: 0,\n            right: 0,\n            top: 0,\n            bottom: 0,\n            backgroundSize: 'cover',\n            backgroundPosition: 'center'\n\n        },\n        backdrop: {\n            zIndex: theme.zIndex.drawer + 1,\n            color: '#fff'\n        },\n        divider:{\n            display: 'flex',\n            flexWrap: 'wrap',\n            marginTop : theme.spacing(1),\n            // marginBottom : theme.spacing(1),\n            // width: '175%'\n\n        },\n    }\n));\n\nfunction TogglePic() {\n    //const [ open, setOpen ] = useState(false)\n    return useState(false);\n}\n// Backdrop\nfunction BasicInfo (props) {\n    const classes = useStyles();\n    function MenuGrid (props) {\n        // console.log(props.data)\n        return (\n            <div className={classes.menuGrid}>\n                {props.data && props.data.menus.map(menu => {\n                    const [ open, setOpen ] = TogglePic();\n                    // console.log(menu)\n                    return (\n                        <div key={Date.now()+ Math.random()} className={classes.grid}>\n                            <ButtonBase\n                                onClick={() => setOpen(true)}\n                            >\n                                <div className={classes.imageContainer} >\n                                    <img src={menu} style={{height: '100%'}}/>\n                                </div>\n                            </ButtonBase>\n\n                            <Backdrop className={classes.backdrop} open={open} onClick={() => setOpen(false)}>\n                                <img src={menu}/>\n                            </Backdrop>\n                            \n                        </div>\n                    )\n                })}\n            </div>     \n        )\n    }\n    return (\n        <div className={classes.infoList}>\n            <List>\n                <ListItem>\n                <ListItemIcon>\n                    <RestaurantIcon />\n                </ListItemIcon>\n                <ListItemText primary={props.data&&props.data.storeName} />\n                </ListItem>\n                {/* <Divider light className={classes.divider}/> */}\n                <ListItem>\n                    <ListItemIcon>\n                        <RoomIcon />\n                    </ListItemIcon>\n                    <ListItemText primary={props.data&&props.data.address} />\n                </ListItem>\n                {/* <Divider light className={classes.devider}/> */}\n                <ListItem>\n                    <ListItemIcon>\n                        <PhoneIcon />\n                    </ListItemIcon>\n                    <ListItemText primary={props.data&&props.data.phone} />\n                </ListItem>\n                \n                \n                <Divider light variant=\"middle\" className={classes.divider}/>\n            </List>\n            \n            <MenuGrid data={props.data}/>\n\n            <Divider light variant=\"middle\" className={classes.divider}/>\n        </div>\n    )\n}\n\nexport default BasicInfo;","import { createContext } from 'react'\nconst userCommentContext = createContext(null)\nexport default userCommentContext","import React, { useState, useEffect, useContext } from 'react';\nimport userContext from '../../userContext';\nimport { sendComment , reviseComment} from '../../routes/routes';\nimport { TextField, IconButton, Avatar, List, ListItem, ListItemAvatar, ListItemText, Typography , Button} from '@material-ui/core';\nimport { makeStyles } from '@material-ui/core/styles';\nimport SendIcon from '@material-ui/icons/Send';\nimport StarIcon from '@material-ui/icons/Star';\nimport RateStar from './Ratestar'\nimport StarBorderIcon from '@material-ui/icons/StarBorder';\nimport FavoriteIcon from '@material-ui/icons/Favorite';\nimport FavoriteBorderIcon from '@material-ui/icons/FavoriteBorder';\n// import userRateContext from './userRateContext'\nimport userCommentContext from './userCommentContext'\n\nconst useStyles = makeStyles((theme) => ({\n    root: {\n        margin: '10px',\n    },\n    commentList: {\n        height: '40%',\n        overflowY: 'scroll'\n    },\n    inlineStar: {\n        display: 'inline'\n    },\n    typeInComment: {\n        \n    }\n}));\n\nfunction Review (props) {\n    //props.data\n    const classes = useStyles();\n    let { user } = useContext(userContext)\n    // const [commented, setCommented] = useState()\n    let { userComment , userRate, setUserRate, setUserComment, commented, setCommented, userCommentId, setUserCommentId,  edit, setEdit} = useContext(userCommentContext)\n    // const handleUpdateComment = (newComment) => {\n    //     setUserComment(newComment)\n    // }\n    // const handleUpdateStar = (newRate) => {\n    //     setUserRate(newRate)\n    // }\n    useEffect(() => {\n        if(userComment){\n            setCommented(true)\n        }\n    }, [])\n    useEffect(() => {\n\n    }, [])\n    function CommentedBox (props) {\n        //username rating content profilePic\n        return (\n            <ListItem key={Date.now() + Math.random()}>\n                <ListItemAvatar>\n                    <Avatar src={props.profilePic} />\n                </ListItemAvatar>\n                    <ListItemText \n                        primary={props.username}\n                        secondary={\n                            <React.Fragment>\n                                <Typography\n                                    component=\"span\"\n                                    className={classes.inlineStar}\n                                    color=\"textPrimary\"\n                                >\n                                    {props.rating} <StarIcon/>\n                                </Typography>\n                                {props.content}\n                            </React.Fragment>\n                        }\n                    />\n                \n            </ListItem>\n        )\n    }\n\n    function TypeIn () {\n        let { userComment , userRate, setUserRate, setUserComment, commented, setCommented, userCommentId, setUserCommentId,  edit, setEdit} = useContext(userCommentContext)\n        const handleSubmit = async () => {\n            if (userRate === 0) {\n                alert('請給至少一顆星星的評價ㄛ');\n            } else if(userComment === 0) {\n                alert('請至少輸入一個字的評論ㄛ');\n            } else {\n                let data = {\n                    storename: props.data.storename,\n                    username: user.username,        \n                    content: userComment,\n                    rating: userRate,\n                    storeid: props.data.storeId\n                }\n                try {\n                    if(edit){\n                        data = {\n                            ...data,\n                            _id : userCommentId\n                        }\n                        const response = await reviseComment(data)\n                        console.log('response: ', response.data)\n                        if(response){\n                            setCommented(true)\n                            setEdit(false)\n                        }\n                    }else{\n                        const response = await sendComment(data);\n                        console.log('response: ', response.data)\n                        if(response){\n                            setCommented(true)\n                            setUserCommentId(response.data._id)\n                        }\n                    }\n                } catch (e) {\n                    throw e\n                }\n            }\n        }\n        return (\n            user ? \n            ((!edit && userComment && commented) ? (\n                    <CommentedBox username={user.username} rating={userRate} content={userComment} user={user.profilePic} />\n                ): <div className={classes.typeInComment}>\n                    <div style={{display: 'flex'}}>\n                        <Avatar style={{right: '5px'}} src=\"\"/>\n                        <div>\n                            <span style={{display: 'block'}}>{user.username}</span>\n                            <RateStar \n                                handleSelectRate={setUserRate}\n                                style={{display: 'block'}}\n                            />\n                        </div>\n                    </div>\n                    <TextField autoFocus onChange={(e)=>{setUserComment(e.target.value)}} value={userComment}/>\n                    <IconButton onClick={handleSubmit}>\n                        <SendIcon />\n                    </IconButton>\n                </div>) : <div>先登入才可以評論ㄛ～</div>\n        )\n    }\n    \n    function Comments (props) {\n        const { userComment, setUserComment, userRate, setUserRate} = useContext(userCommentContext)\n        let comments = []\n        if (props.comments) {\n            if (user) {//console.log(\"comments: \", props)\n                props.comments.forEach(comment => {\n                    if (comment.username !== user.username){\n                        comments.push(<CommentedBox key={comment._id} username={comment.username} rating={comment.rating} content={comment.content} profilePic={comment.profilePic}/>)\n                        // console.log('comments: ', comments)\n                    } else {\n                        console.log(comment)\n                        setUserCommentId(comment._id)\n                        setUserComment(comment.content)\n                        setUserRate(comment.rating)\n                    }\n                })\n            } else {\n            props.comments.forEach(comment => {\n                comments.push(<CommentedBox username={comment.username} rating={comment.rating} content={comment.content} profilePic={comment.profilePic}/>)\n                console.log('comments: ', comments)\n            })\n        }\n        } \n        return (\n            <List className={classes.commentList} >\n                {comments}\n            </List>\n        )\n        \n    }\n    return ( \n        <div className={classes.root}>\n            <TypeIn edit={edit} />\n            {commented ? (<Button onClick={ () => setEdit(true) }>修改</Button>) : null}\n            <Comments comments={props.data&&props.data.comments}/>\n        </div>\n    )\n}\n\nexport default Review;","import React, { useState, useEffect } from 'react'\nimport  { MapContainer, TileLayer, Popup, CircleMarker}  from 'react-leaflet'\nimport './Map.css'\nimport { makeStyles } from '@material-ui/core/styles';\nimport {Typography, Card, CardContent} from '@material-ui/core'\nimport StarRoundedIcon from '@material-ui/icons/StarRounded';\n\nconst useStyles = makeStyles({\n    root: {\n        minWidth: 300\n    },\n    title: {\n        fontSize: 20,\n    },\n    rating: {\n        fontSize : 15\n    }\n});\n  \nfunction StoreMap({ calculateDistance, storename , userCoords, storeCoords, location, rating}){\n        console.log(storename, userCoords, storeCoords, location, rating)\n        const classes = useStyles()\n        let [distance, setDistance] = useState()\n        // useEffect(() => {\n        //     const [userLat, userLng] = userCoords\n        //     const [storeLat, storeLng] = storeCoords\n        //     // parseFloat\n        //     setDistance(calculateDistance(userLat, userLng, storeLat, storeLng)) \n        // }, [])\n        return(\n            <MapContainer center={storeCoords} zoom={13} scrollWheelZoom={false}>\n                <TileLayer\n                    draggable=\"true\"\n                    attribution='<a href=\"https://www.maptiler.com/copyright/\" target=\"_blank\">&copy; MapTiler</a> <a href=\"https://www.openstreetmap.org/copyright\" target=\"_blank\">&copy; OpenStreetMap contributors</a>'\n                    url=\"https://api.maptiler.com/maps/streets/{z}/{x}/{y}.png?key=98cqmbPl7vgPxrspXRdI\"\n                />\n                <CircleMarker \n                    center={storeCoords}\n                    radius={10}\n                >\n                <Popup position={storeCoords}>\n                    <Card>\n                        <CardContent>\n                            <Typography variant=\"h4\">{storename}</Typography>\n                            <Typography className={classes.rating} color=\"textSecondary\">\n                                <StarRoundedIcon className={classes.rating}/>\n                                {` ${rating}`}\n                            </Typography>\n                            <Typography className={classes.rating}>{location}</Typography>\n                            <Typography className={classes.rating}>{`Distance : ${distance} KM`}</Typography>\n                        </CardContent>\n                    </Card>\n                </Popup>\n                </CircleMarker>\n            </MapContainer>\n        )\n}\n\nexport default StoreMap;\n\n","import { CodeSharp } from \"@material-ui/icons\"\nimport { useEffect , useContext, useState} from \"react\"\nimport { getCoord } from './routes/routes'\nimport StoreMap from \"./StoreMap\"\nimport userCommentContext from './components/store/userCommentContext'\n// import findCoord from './child_process/findCoord'\nfunction MapContainer({\n    coords,\n    isGeolocationAvailable, // boolean flag indicating that the browser supports the Geolocation API\n    isGeolocationEnabled, // boolean flag indicating that the user has allowed the use of the Geolocation API\n    positionError, // object with the error returned from the Geolocation API call\n}){\n    const [storeCoordination, setStoreCoordination] = useState();\n    const {address, storename, rating} = useContext(userCommentContext) \n    // const {storename} = useContext(userCommentContext)\n    //console.log(address)\n    console.log('flag2: ', coords)\n    let { latitude, longitude } = coords\n    console.log('flag')\n    useEffect(async() => {\n        const loc = await getCoord(address)\n        console.log('loc: ', loc)\n        if (loc !== 'error'){\n            \n            // const data = JSON.parse(loc)\n            const data = loc\n            let lat = data.lat;\n            let log = data.log;\n            lat = parseFloat(lat)\n            log = parseFloat(log)\n            setStoreCoordination({ lat : lat, log : log})\n            console.log(lat, log)\n        } \n        // setStoreCoordination(loc)\n    },[])\n    //const storeCoordination = await getCoord(address)\n    //console.log('storeCoordi', storeCoordination)\n    // let lat, log;\n    // if (storeCoordination !== 'error'){\n    //     const data = JSON.parse(storeCoordination)\n    //     lat = data.lat;\n    //     log = data.log;\n    //     lat = parseFloat(lat)\n    //     log = parseFloat(log)\n    //     console.log(lat, log)\n    // } \n    // useEffect(() => {\n    //     if (storeCoordination !== 'error'){\n    //         const data = JSON.parse(storeCoordination)\n    //         lat = data.lat;\n    //         log = data.log;\n    //         lat = parseFloat(lat)\n    //         log = parseFloat(log)\n    //         console.log(lat, log)\n    //     } \n    // }, [storeCoordination])\n    const calculateDistance = (lat1, lng1, lat2, lng2) => {\n        // spherical coordinates dl = ( dr , r * dtheta + r^2 , r * sintheta * dphi)\n        const EARTH_RADIUS = 6371\n        let Squared = Math.sin((lat2-lat1)*Math.PI/180) * Math.sin((lat2-lat1)*Math.PI/180) + \n        Math.cos(lat1*Math.PI/180)*Math.cos(lat2*Math.PI/180) * \n        Math.sin((lng2-lng1)*Math.PI/2*180)*Math.sin((lng2-lng1)*Math.PI/2*180)\n        let d = 2 * EARTH_RADIUS * Math.asin(Math.sqrt(Squared))\n        return d\n    }\n\n    return(\n        <>\n            { (!isGeolocationAvailable) ? (\n                    <div>Your browser does not support Geolocation</div>\n                ) : (!isGeolocationEnabled) ? (\n                    <div>Geolocation is not enabled, if using Safari, please switch to Chrome</div>\n                ) :  (coords && storeCoordination)? (\n                    <StoreMap calculateDistance={calculateDistance} storename={storename} userCoords={[latitude, longitude]} storeCoords={storeCoordination&&[storeCoordination.lat, storeCoordination.log]} location={address} rating={rating} />\n                ) : (\n                    <div>Loading</div>\n                )\n            }\n        </>\n    )\n}\nexport default MapContainer\n/*\n{\n        coords,\n        isGeolocationAvailable, // boolean flag indicating that the browser supports the Geolocation API\n        isGeolocationEnabled, // boolean flag indicating that the user has allowed the use of the Geolocation API\n        positionError, // object with the error returned from the Geolocation API call\n    }\n*/\n","import React from \"react\";\nimport { geolocated } from \"react-geolocated\";\nimport MapContainer from './MapContainer'\n\nclass Geolocator extends React.Component {\n    render() {\n        console.log('coords1: ', this.props.coords)\n        //console.log(this.props.isGeolocationAvailable, this.props.isGeolocationEnabled)\n        if(this.props.coords){console.log('coords2: ', this.props.coords.latitude)}\n        return(\n            this.props.coords ? (\n            <MapContainer \n                address={this.props.address}\n                coords={{\n                    latitude : this.props.coords.latitude,\n                    longitude : this.props.coords.longitude,\n                    altitude : this.props.coords.altitude,\n                    accuracy : this.props.coords.accuracy,\n                    altitudeAccuracy : this.props.coords.altitudeAccuracy,\n                    heading : this.props.coords.heading,\n                    speed : this.props.coords.speed\n                }}\n                isGeolocationAvailable={this.props.isGeolocationAvailable}\n                isGeolocationEnabled={this.props.isGeolocationEnabled}\n                positionError={this.props.positionError}\n            />) : <h5>Getting coordinates...</h5>\n        )\n    }\n}\n\nexport default geolocated({\n    positionOptions: {\n        enableHighAccuracy: false,\n    },\n    userDecisionTimeout: 10000,\n    isOptimisticGeolocationEnabled : true,\n    watchPosition  : true\n})(Geolocator);","import { fetchStoreData } from '../routes/routes'\nimport BasicInfo from '../components/store/BasicInfo';\nimport Review from '../components/store/Review';\nimport { useEffect, useState } from 'react';\nimport { useParams } from 'react-router-dom';\nimport {Paper, makeStyles} from '@material-ui/core';\nimport Map from '../Geolocator'\n\n//import userRateContext from '../components/store/userCommentContext'\nimport userCommentContext from '../components/store/userCommentContext'\n\nconst useStyles = makeStyles(theme => ({\n    root: {\n        overflow: 'visible',\n        display: 'flex',\n        \n    },\n    leftBar: {\n        width: '40%'\n    },\n    paper : {\n        display: 'absolute',\n        marginTop : theme.spacing(20),\n        marginLeft : theme.spacing(5),\n        marginRight : theme.spacing(2),\n        marginButtom: theme.spacing(3),\n        height: '100%'\n    },\n    info : {\n        marginLeft : theme.spacing(0),\n        marginRight : theme.spacing(0),\n        maxWidth: 360,\n        width: '100%',\n        height: '60%'\n    },\n    map: {\n        display: 'absolute',\n        marginTop: '260px',\n        display: 'inline',\n        width: '60%',\n        marginRight: '5px'\n    }\n}))\nfunction StoreContainer (props) {\n    const classes = useStyles();\n    const { id } = useParams();\n    let data;\n    const [ basicInfo, setBasicInfo ] = useState(null)\n    const [ review, setReview ] = useState(null)\n    const [ userComment, setUserComment] = useState(null);\n    const [ userRate, setUserRate] = useState(null);\n    const [commented, setCommented] = useState()\n    const [userCommentId, setUserCommentId] = useState(null)\n    const [ edit, setEdit ] = useState()\n    const [address, setAddress] = useState()\n    const [storename, setStorename] = useState()\n    const [rating, setRating] = useState()\n    useEffect(async () => {\n        data = await fetchStoreData(id);\n        setBasicInfo({\n            storeName: data.storename,\n            address: data.address,\n            phone: data.phone,\n            menus: data.picture\n        })\n        setReview({\n            storeName: data.storename,\n            storeId: data._id,\n            rating: data.rating,\n            comments: data.comments\n        })\n        setRating(data.rating)\n        setAddress(data.address)\n        setStorename(data.storename)\n    },[ id ])\n    //const data = await fetchStoreData('6002e4d7d31a19a31b19086f');\n    //console.log(\"data: \", data)\n    if (data !== \"error\"){\n        //console.log(basicInfo, review)\n        return (\n            <div className={classes.root}>\n                <userCommentContext.Provider value={{userComment, setUserComment , userRate , setUserRate, commented, setCommented, userCommentId, setUserCommentId, edit, setEdit, address, setAddress, storename, rating}}>\n                    <div className={classes.leftBar}><Paper className={classes.paper}>\n                        <BasicInfo data={basicInfo&&basicInfo}/>\n                        <Review data={review&&review}/>\n                    </Paper></div>\n                    <div className={classes.map}>{(address&&storename&&rating)&&<Map />}</div>\n                </userCommentContext.Provider>\n            </div>\n        )\n    }\n    \n}\n//<div className={classes.map}>{(address&&storename&&rating)&&<Map />}</div>\nexport default StoreContainer;","import './App.css';\nimport React, { useState} from \"react\";\nimport Register from './Register'\nimport Random from './main/Random'\nimport { BrowserRouter as Router, Route } from 'react-router-dom'\nimport Profile from './Profile'\nimport AddStore from './containers/AddStore';\nimport Mainbar from './main/Mainbar'\nimport Main from './main/Main'\nimport userContext from './userContext'\nimport Store from './containers/storeContainer'\n// import StoreMap from './StoreMap'\n// import Geolocator from './Geolocator'\nfunction App() {\n  const [user, setUser] = useState(null);\n  return (\n    <>\n    {/* <Geolocator /> */}\n    {\n      <>\n      <Router>\n        <userContext.Provider value={{user, setUser}}>\n            <Mainbar />\n            <Route exact path=\"/\">\n              <Main />\n            </Route>\n            <Route path=\"/store/:id\"> \n              <Store/>\n            </Route>\n            <Route path=\"/login\" exact component={Register} />\n            <Route path=\"/random\" exact component={Random} />\n            <Route path=\"/profile\" exact component={Profile} />\n            <Route path=\"/addstore\" exact component={AddStore} />\n        </userContext.Provider>\n      </Router>\n      </>\n    }\n    </>\n    \n  )\n}\nexport default App;","const reportWebVitals = onPerfEntry => {\n  if (onPerfEntry && onPerfEntry instanceof Function) {\n    import('web-vitals').then(({ getCLS, getFID, getFCP, getLCP, getTTFB }) => {\n      getCLS(onPerfEntry);\n      getFID(onPerfEntry);\n      getFCP(onPerfEntry);\n      getLCP(onPerfEntry);\n      getTTFB(onPerfEntry);\n    });\n  }\n};\n\nexport default reportWebVitals;\n","import React from 'react';\nimport ReactDOM from 'react-dom';\nimport './index.css';\nimport App from './App';\nimport reportWebVitals from './reportWebVitals';\n\nReactDOM.render(\n  <React.StrictMode>\n    <App />\n  </React.StrictMode>,\n  document.getElementById('root')\n);\n\n// If you want to start measuring performance in your app, pass a function\n// to log results (for example: reportWebVitals(console.log))\n// or send to an analytics endpoint. Learn more: https://bit.ly/CRA-vitals\nreportWebVitals();\n"],"sourceRoot":""}