{"version":3,"sources":["userContext.js","Register.js","Image/foodicon.png","main/Random.js","components/store/Ratestar.js","Profile.js","routes/routes.js","Constants.js","containers/AddStore.js","main/Mainbar.js","main/Navbar.js","main/OutlinedCard.js","main/StoreList.js","main/Main.js","components/store/BasicInfo.js","components/store/userCommentContext.js","components/store/Review.js","StoreMap.js","MapContainer.js","Geolocator.js","containers/storeContainer.js","App.js","reportWebVitals.js","index.js"],"names":["userContext","createContext","useStyle","makeStyles","theme","root","minWidth","paper","margin","spacing","padding","maxWidth","cardcontent","button","snackbar","Register","classes","useContext","user","setUser","useState","username","setUsername","password","setPassword","usernameError","setUsernameError","passwordError","setPasswordError","registered","setRegistered","setLoggedIn","handleRegister","e","a","axios","post","data","isUnique","console","log","handleLogin","res","invalidUser","invalidPassword","handleClose","handleUsernameError","handlePasswordError","to","Card","className","alignItems","Grid","container","direction","justify","item","Typography","variant","xs","src","TextField","color","label","placeholder","InputProps","startAdornment","InputAdornment","position","AccountCircle","onChange","target","value","Button","onClick","Snackbar","open","autoHideDuration","anchorOrigin","vertical","horizontal","onClose","action","IconButton","size","aria-label","fontSize","Alert","severity","instance","outergrid","card","innercard","text","buttonHelp","paddingLeft","paddingRight","borderRadius","buttonEat","header","Random","CloseBackdrop","result","setResult","getResult","get","useEffect","style","backgroundColor","display","storename","_id","textDecoration","alignSelf","float","RateStar","props","state","rateValue","rateArray","Array","Number","rateNum","fill","this","canClick","setState","handleSelectRate","map","index","width","React","Component","defaultProps","AppBar","marginTop","marginLeft","marginRight","Tab","Avatar","paddingTop","paddingBottom","visit","box1","box2","box3","textfield","createMuiTheme","overrides","MuiTabs","indicator","blue","MuiTab","selected","typography","h1","body1","fontWeight","body2","User","selectedTab","setSelectedTab","comments","setComments","favorites","setFavorites","editComment","setEditComment","updatedContent","setUpdatedContent","updatedStar","setUpdatedStar","getFavorites","getComments","array","comment","prev","fav","handleRemoveFavorite","delete","id","handleEditComment","handleDeleteComment","handleSubmit","content","rating","Paper","indicatorColor","background","Tabs","event","newValue","store","CardContent","Box","ButtonGroup","require","uploadStoreInfo","encodedFiles","headers","response","message","fetchStoreData","storeId","then","catch","err","error","sendComment","storeid","reviseComment","getCoord","addr","regions","avgPrice","cuisines","AddStore","handleChange","urls","files","from","forEach","file","reader","FileReader","readAsDataURL","onloadend","handleValueChange","cap","renew","Object","preventDefault","parsedData","images","entries","key","phone","location","address","lowestPrice","highestPrice","type","JSON","stringify","success","errormessage","sendData","handleSnackbarClose","restaurant","dist","min","max","avg","cuisine","box","onSubmit","autoFocus","required","box4","select","region","MenuItem","price","justifyContent","name","multiple","accept","menu","paper2","Date","now","withStyles","maxHeight","marginBottom","useStyles","appbar","backdrop","zIndex","drawer","Mainbar","setOpen","profilePic","Backdrop","flexGrow","bottom","right","FormControl","minHeight","toolbar","submit","Navbar","Local","Price","Prefer","Submit","search","handleSearch","handlesetSearch","InputLabel","Select","labeled","displayEmpty","handleSetSearch","title","pos","OutlinedCard","check","setCheck","Favorite","userID","storeID","UnFavorite","favor_id","component","disabled","list","StoreList","Main","setContents","setLocal","setPrice","prefer","setPrefer","setSearch","setError","handleError","msg","Error","pricing","preferences","infoList","flexWrap","palette","menuGrid","overflowX","whiteSpace","grid","imageContainer","border","height","cursor","imageButton","left","top","backgroundSize","backgroundPosition","divider","BasicInfo","MenuGrid","menus","ButtonBase","Math","random","List","ListItem","ListItemIcon","ListItemText","primary","storeName","Divider","light","userCommentContext","commentList","overflowY","inlineStar","typeInComment","Review","userComment","commented","userRate","setUserRate","setUserComment","setCommented","setUserCommentId","userCommentId","edit","setEdit","CommentedBox","ListItemAvatar","secondary","Fragment","TypeIn","alert","Comments","push","StoreMap","calculateDistance","userCoords","storeCoords","distance","MapContainer","center","zoom","scrollWheelZoom","TileLayer","draggable","attribution","url","CircleMarker","radius","Popup","coords","isGeolocationAvailable","isGeolocationEnabled","positionError","storeCoordination","setStoreCoordination","latitude","longitude","loc","lat","parseFloat","lat1","lng1","lat2","lng2","Squared","sin","PI","cos","asin","sqrt","Geolocator","altitude","accuracy","altitudeAccuracy","heading","speed","geolocated","positionOptions","enableHighAccuracy","userDecisionTimeout","isOptimisticGeolocationEnabled","watchPosition","overflow","leftBar","marginButtom","info","StoreContainer","useParams","basicInfo","setBasicInfo","review","setReview","setAddress","setStorename","setRating","picture","Provider","App","exact","path","Profile","reportWebVitals","onPerfEntry","Function","getCLS","getFID","getFCP","getLCP","getTTFB","ReactDOM","render","StrictMode","document","getElementById"],"mappings":"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","file":"static/js/main.71a4a056.chunk.js","sourcesContent":["import { createContext } from 'react'\nconst userContext = createContext(null)\nexport default userContext","import { TextField , Card, Button, InputAdornment, Grid, Typography, Snackbar, IconButton} from '@material-ui/core';\nimport { makeStyles } from '@material-ui/core/styles'\nimport Alert from '@material-ui/lab/Alert';\nimport { useState , useContext} from 'react'\nimport logo from './Image/foodicon.png'\nimport { AccountCircle } from '@material-ui/icons'\nimport HighlightOffIcon from '@material-ui/icons/HighlightOff';\nimport LockIcon from '@material-ui/icons/Lock';\nimport axios from 'axios'\nimport userContext from './userContext'\nimport { Redirect } from 'react-router-dom'\n\n\nconst useStyle = makeStyles( theme => ({\n    root : {\n        minWidth: 275,\n    },\n    paper : {\n        margin : theme.spacing(20),\n        padding : theme.spacing(4),\n        maxWidth : 'lg',\n        minWidth: 'xs'\n    },\n    cardcontent : {\n        margin : theme.spacing(1),\n    },\n    button : {\n        padding : theme.spacing(1),\n        margin : theme.spacing(2)\n    },\n    snackbar : {\n        padding : theme.spacing(1)\n    }\n}))\nfunction Register(){\n    const classes = useStyle()\n    let {user, setUser} = useContext(userContext)\n    let [username , setUsername] = useState('');\n    let [password, setPassword] = useState('');\n    let [usernameError, setUsernameError] = useState(null);\n    let [passwordError, setPasswordError] = useState(null);\n    let [registered, setRegistered] = useState(false);\n    let [loggedIn, setLoggedIn] = useState(false)\n    const handleUsername = (e) => {\n        let target = e.target\n        setUsername(target.value)\n    }\n    const handlePassword = (e) => {\n        let target = e.target\n        setPassword(target.value)\n    }\n    const handleRegister = async (e) => {\n        if(username && password){\n            setUsernameError(null)\n            setPasswordError(null)\n            let res = await axios.post('/users/register', {\n                username : username,\n                password : password\n            })\n            if(res.data.isUnique){\n                // redirect to home page with user info\n                console.log('successfully registered')\n                setRegistered(true)\n            }else{\n                // check for username uniqueness\n                setUsernameError('username has been used')\n            }\n        }else{\n            if(!username){\n                setUsernameError('Please enter a username')\n            }else{\n                setUsernameError(null)\n            }\n            if(!password){\n                setPasswordError('Please enter a password')\n            }else{\n                setPasswordError(null);\n            }\n        }\n    }\n    const handleLogin = async (e) => {\n        if(username && password){\n            setUsernameError('')\n            setPasswordError('')\n            let res = await axios.post('/users/login', {\n                username : username,\n                password : password\n            })\n            if(res.data.invalidUser){\n                setUsernameError('Invalid username')\n            }\n            if(res.data.invalidPassword){\n                setPasswordError('Invalid password')\n            }\n            if(!res.data.invalidUser && !res.data.invalidPassword){\n                setUser(res.data)\n                setLoggedIn(true)\n            }\n        }else{\n            if(!username){\n                setUsernameError('Please enter a username')\n            }else{\n                setUsernameError(null)\n            }\n            if(!password){\n                setPasswordError('Please enter a password')\n            }else{\n                setPasswordError(null);\n            }\n        }\n    }\n    const handleClose = (e) => {\n        setRegistered(false)\n    }\n    const handleUsernameError = () => {\n        setUsernameError(false)\n    }\n    const handlePasswordError = () => {\n        setPasswordError(false)\n    }\n    return(\n        (!user)?\n        (<>\n        <Card className={classes.paper} alignItems=\"center\" >\n            <Grid container direction=\"row\" justify=\"center\" >\n                <Grid item>\n                    <Typography variant=\"h1\">NTUEEAT</Typography>\n                </Grid>\n                <Grid item container direction=\"column\">\n                <Grid\n                    container  \n                    item\n                    alignItems=\"center\"\n                    justify=\"center\"  \n                    direction=\"column\"\n                >\n                    <Grid item xs={8} className={classes.cardcontent}>\n                        <img src={logo}/>\n                    </Grid>\n                    <Grid item xs={8} className={classes.cardcontent}>\n                        <TextField \n                            variant=\"outlined\"\n                            color=\"secondary\"\n                            label=\"Username\"\n                            placeholder=\"Username\"\n                            InputProps={{\n                                startAdornment: (\n                                <InputAdornment position=\"start\">\n                                    <AccountCircle />\n                                </InputAdornment>\n                                ),\n                            }}\n                            onChange={handleUsername}\n                        />\n                    </Grid>\n                    <Grid item xs={8} className={classes.cardcontent}>\n                    <TextField\n                        variant=\"outlined\"\n                        color=\"secondary\"\n                        placeholder=\"Password\"\n                        label=\"Password\"\n                        InputProps={{\n                            startAdornment: (\n                            <InputAdornment position=\"start\">\n                                <LockIcon />\n                            </InputAdornment>\n                            ),\n                        }}\n                        onChange={handlePassword}\n                    />\n                    </Grid>\n                    <Grid item xs={8} className={classes.cardcontent}>\n                        <Button onClick={handleRegister} variant=\"text\" color=\"secondary\" className={classes.button}>\n                            Register\n                        </Button>\n                        <Button onClick={handleLogin} variant=\"text\" color=\"secondary\" className={classes.button}>\n                            Login\n                        </Button>\n                        <Snackbar className={classes.snackbar}\n                            open={registered} \n                            autoHideDuration={4000} \n                            anchorOrigin={{ vertical : 'top', horizontal : 'right' }}\n                            onClose={handleClose}\n                            action={\n                                <IconButton size=\"small\" aria-label=\"close\" color=\"inherit\" onClick={handleClose}>\n                                    <HighlightOffIcon fontSize=\"small\" />\n                                </IconButton>\n                            }\n                        >\n                            <Alert onClose={handleClose} severity=\"success\">\n                            Registration Successful\n                            </Alert>\n                        </Snackbar>\n                        <Snackbar className={classes.snackbar}\n                            anchorOrigin={{ vertical : 'top', horizontal : 'right' }}\n                            open={usernameError} \n                            onClose={handleUsernameError}\n                            autoHideDuration={2000} \n                            action={\n                                <IconButton size=\"small\" aria-label=\"close\" color=\"inherit\" onClick={handleUsernameError} >\n                                    <HighlightOffIcon fontSize=\"small\" />\n                                </IconButton>\n                            }\n                        >\n                            <Alert severity=\"error\" onClose={handleUsernameError}>\n                            {usernameError ? `${usernameError}` : null}\n                            </Alert>\n                        </Snackbar>\n                        <Snackbar className={classes.snackbar}\n                            open={passwordError} \n                            onClose={handlePasswordError}\n                            anchorOrigin={{ vertical : 'top', horizontal : 'right' }}\n                            autoHideDuration={2000} \n                            action={\n                                <IconButton size=\"small\" aria-label=\"close\" color=\"inherit\" onClick={handlePasswordError}>\n                                    <HighlightOffIcon fontSize=\"small\" />\n                                </IconButton>\n                            }\n                        >\n                            <Alert severity=\"error\" onClose={handlePasswordError}>\n                            {passwordError ? `${passwordError}`: null}\n                            </Alert>\n                        </Snackbar>\n                    </Grid>\n                </Grid>\n                </Grid>\n            </Grid>\n            </Card>\n        </>\n        ): <Redirect to=\"/\" />\n    )\n}\nexport default Register","export default \"data:image/png;base64,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\"","import React, {useState, useEffect} from 'react'\nimport { Button, Grid, Typography, Card, Dialog} from '@material-ui/core'\nimport axios from 'axios'\nimport { Link } from 'react-router-dom'\nimport { makeStyles } from '@material-ui/core/styles'\n\nconst instance = axios\n\nconst useStyle = makeStyles( theme => ({\n    root : {\n        minWidth: 275,\n    },\n    outergrid : {\n        margin : theme.spacing(2),\n        padding : theme.spacing(4),\n        maxWidth : 'lg',\n        minWidth: 'xs'\n    },\n    card : {\n        margin : theme.spacing(1),\n        padding : theme.spacing(4),\n    },\n    innercard : {\n        margin : theme.spacing(2),\n        padding : theme.spacing(4),\n        maxWidth : 'lg',\n        minWidth: 'xs'\n    },\n    text : {\n        margin : theme.spacing(1),\n    },\n    buttonHelp : {\n        paddingLeft : theme.spacing(4),\n        paddingRight : theme.spacing(4),\n        margin : theme.spacing(1),\n        fontSize : 15,\n        borderRadius : 20\n    },\n    buttonEat : {\n        paddingLeft : theme.spacing(2),\n        paddingRight : theme.spacing(2),\n        margin : theme.spacing(1),\n        fontSize : 15,\n        borderRadius : 20\n    },\n    header : {\n        padding : theme.spacing(1),\n        margin : theme.spacing(3),\n    }\n}))\n\nfunction Random({ CloseBackdrop }){\n    const classes = useStyle()\n    const [result, setResult] = useState(null)\n    const getResult = async () => {\n        const res = await instance.get('/stores/random')\n        // console.log(res.data)\n        setResult(res.data)\n    }\n    const handleClose = () => {\n        CloseBackdrop()\n        setResult(null)\n    }\n    useEffect( () => {\n        console.log(result)\n    }, [result])\n    return(\n        <>\n            <Grid container\n                justify=\"center\"\n                direction=\"row\"\n                className={classes.outergrid}\n            >\n                <Card alignItems=\"center\"\n                    justify=\"center\"\n                    style={{backgroundColor: \"#EBEBD3\"}}\n                    className={classes.card}\n                >\n                <Grid item\n                    container \n                    direction=\"column\"\n                    justify=\"center\" \n                >\n                    <Grid item>\n                        <Typography className={classes.header} variant=\"h2\">今天吃什麼</Typography>\n                    </Grid>\n                    <Grid item>\n                        {\n                        (result) ? (\n                            <Card \n                                alignItems=\"center\"\n                                className={classes.innercard}\n                            >\n                                <Typography variant=\"h5\" style={{ display : \"inline-block\" }} className={classes.text}>{result.storename}</Typography>\n                                <Link to={`/store/${result._id}`}\n                                    style={{paddingLeft: 13, \n                                        textDecoration: 'none', \n                                        display: \"inline-block\", \n                                        alignSelf : \"flex-end\",\n                                        float : \"right\"\n                                    }}\n                                >\n                                    <Button\n                                        onClick={()=>handleClose()}\n                                        className={classes.buttonEat}\n                                        style={{ \n                                            backgroundColor : \"#3C3C3B\",\n                                            color : \"#FFFFFF\"\n                                    }}>\n                                        吃！\n                                    </Button>\n                                </Link>\n                            </Card>\n                        ):null\n                        }\n                    </Grid>\n                    <Grid item \n                        container\n                        justify=\"center\"\n                    >\n                        <Button \n                            size=\"large\"\n                            onClick={getResult}\n                        >\n                            救救我！\n                        </Button>\n                        <Button onClick={handleClose}>close</Button>\n                    </Grid>\n                </Grid>\n                </Card>\n            </Grid>\n        </>\n    )\n}\n\nexport default Random;","import React from 'react'\nimport \"./Ratestar.css\"\n\nclass RateStar extends React.Component {\n    static defaultProps = {\n        canClick: true,\n        rateNum: 5,\n        handleSelectRate: null,\n        rateValue: 0\n    }\n\n    constructor (props) {\n        super(props)\n        this.state = {\n            rateValue: 0,\n            rateArray: new Array(Number(props.rateNum)).fill('')\n        }\n    }\n\n    handleSelectRate (value) {\n        if (!this.props.canClick) {\n            return\n        }\n        this.setState({\n            rateValue: value\n        })\n        this.props.handleSelectRate && this.props.handleSelectRate(value)\n    }\n\n    render () {\n        const {rateArray, rateValue} = this.state\n        const {rateNum} = this.props\n        return (\n            <div className=\"rate\">\n                <div className=\"rate__bg\">\n                    {rateArray.map((item, index) => <span onClick={() => this.handleSelectRate(index+1)} key={`rate_${index}`}>☆</span>)}\n                    <div className=\"bg__realrate\" style={{width: `calc(${rateValue ? rateValue : this.props.rateValue} / ${rateNum} * 100%)`}}>\n                        {rateArray.map((item, index) => <span onClick={() => this.handleSelectRate(index+1)} key={`rate_selected_${index}`}>★</span>)}\n                    </div>\n                </div>\n            </div>\n        )\n    }\n}\n\nexport default RateStar","import { useState , useContext, useEffect} from 'react'\nimport userContext from './userContext'\nimport { Tabs, Tab , Typography, Avatar, Card, CardContent, Box,Button, IconButton, TextField, ButtonGroup, Paper} from '@material-ui/core'\nimport { MuiThemeProvider, createMuiTheme } from \"@material-ui/core/styles\";\nimport EditIcon from '@material-ui/icons/Edit';\nimport { makeStyles } from '@material-ui/core/styles'\nimport { blue } from \"@material-ui/core/colors\";\nimport { Link } from 'react-router-dom'\nimport RemoveCircleOutlineIcon from '@material-ui/icons/RemoveCircleOutline';\nimport axios from 'axios'\nimport RateStar from './components/store/Ratestar'\nimport DeleteIcon from '@material-ui/icons/Delete';\n\n//const instance = axios.create({ baseURL : \"/users\" })\n\nconst useStyle = makeStyles(theme => ({\n    AppBar : {\n        marginTop : theme.spacing(15),\n        marginLeft : theme.spacing(2),\n        marginRight : theme.spacing(2)\n    },\n    Tab : {\n        padding : theme.spacing(3),\n        paddingLeft : theme.spacing(4),\n        paddingRight : theme.spacing(4),\n    },\n    Avatar : {\n        margin : theme.spacing(5),\n        padding : theme.spacing(15)\n    },\n    username : {\n      paddingLeft : theme.spacing(4),\n      paddingTop : theme.spacing(2),\n      paddingBottom : theme.spacing(2)\n    },\n    Card : {\n      margin : theme.spacing(2),\n      padding : theme.spacing(4)\n    },\n    visit : {\n      margin : theme.spacing(2)\n    },\n    box1 : {\n      borderRadius:20,\n      padding : theme.spacing(1),\n    },\n    box2 : {\n      backgroundColor: \"#D4E6F1\",\n      borderRadius:20,\n      padding : theme.spacing(2)\n    },\n    box3 : {\n      backgroundColor: \"#D4E6F1\",\n      borderRadius:20,\n      width : '100%'\n    },\n    textfield : {\n      padding : theme.spacing(2),\n      borderRadius:20,\n      width : '95%'\n    },\n    button : {\n      margin : theme.spacing(2),\n    }\n}))\n\nconst theme = createMuiTheme({\n    overrides: {\n      MuiTabs: {\n        indicator: {\n          backgroundColor: blue[700]\n        }\n      },\n      MuiTab: {\n        root: {\n        },\n        selected: {\n          backgroundColor: blue[700],\n          color: blue[700],\n        }\n      }\n    },\n    typography: {\n      h1: {\n        fontSize: 18,\n      },\n      body1: {\n        fontWeight: 1000,\n      },\n      body2:{\n        fontWeight : 500\n      }\n    },\n  });\n\nfunction User() {\n    const classes = useStyle()\n    let {user, setUser} = useContext(userContext)\n    let [selectedTab, setSelectedTab] = useState(0)\n    let [comments, setComments] = useState()\n    let [favorites, setFavorites] = useState()\n    let [editComment, setEditComment] = useState()\n    let [updatedContent, setUpdatedContent] = useState()\n    let [updatedStar, setUpdatedStar] = useState()\n    useEffect(() => {\n      getFavorites()\n    },[])\n    const handleChange = (event, newValue) => {\n      setSelectedTab(newValue);\n    };\n    const getComments = async () => {\n      // returns entire user with comments populated\n      const {data} = await axios.get(`/users/comments/${user._id}`)\n      setComments([...data])\n      const array = data.map(comment => comment._id)\n      setUser(prev => {\n        return {\n          ...prev,\n          comments : [...array]\n        }\n      })\n    }\n    const getFavorites = async () => {\n      // returns entire user with favorites populated\n      const {data} = await axios.get(`/users/favorites/${user._id}`)\n      setFavorites([...data])\n      const array = data.map(fav => fav._id)\n      setUser(prev => {\n        return {\n          ...prev,\n          favorites : [...array]\n        }\n      })\n    }\n    const handleRemoveFavorite = async (e) => {\n      // returns entire user with favorites populated\n      const {data} = await axios.delete(`/users/favorite?USERID=${user._id}&STOREID=${e.target.id}`)\n      setFavorites([...data])\n      const array = data.map(fav => fav._id)\n      setUser(prev => {\n        return {\n          ...prev,\n          favorites : [...array]\n        }\n      })\n    }\n    const handleEditComment = async (e) => {\n      setEditComment(e.target.id)\n    }\n    const handleDeleteComment = async (e) => {\n      const {data} = await axios.delete(`/users/comments?USERID=${user._id}&COMMENTID=${e.target.id}`)\n      setComments([...data])\n      const array = data.map(comment => comment._id)\n      setUser(prev => {\n        return {\n          ...prev,\n          comments : [...array]\n        }\n      })\n    }\n    const handleSubmit = async () => {\n      // renew the comment\n      if(updatedStar && updatedContent){\n        // use the setEditComment to send the comment back\n        const {data} = await axios.post('/users/comments', {\n          _id : editComment,\n          content : updatedContent,\n          rating : updatedStar\n        })\n        setComments(prev => {\n          let newComments = prev.map(comment => {\n            if(comment._id === data._id){\n              comment.content = data.content\n              comment.rating = data.rating\n            }\n            return comment\n          })\n          return newComments\n        })\n      }\n      setEditComment(null)\n      setUpdatedContent('')\n      setUpdatedStar(null)\n    }\n    return(\n        <MuiThemeProvider theme={theme}>\n            <Paper \n            className={classes.AppBar}\n            indicatorColor=\"secondary\"\n            style={{ background : \"#D4E6F1\", color : \"#000000\" }}\n            position=\"static\">\n            {/* <Avatar className={classes.Avatar}>P</Avatar> */}\n            <Typography className={classes.username} variant=\"h3\" style={{color : \"#000000\"}}>{user.username}</Typography>\n            <Tabs value={selectedTab} onChange={handleChange}>\n                <Tab className={classes.Tab} value={0} label=\"Favorites\" onClick={getFavorites}/>\n                <Tab className={classes.Tab} value={1} label=\"Reviews\" onClick={getComments}/>\n                <Tab className={classes.Tab} value={2} label=\"Settings\"/>\n            </Tabs>\n            </Paper>\n            {(selectedTab === 0 && favorites) ? (\n              favorites.map(store => {\n                return(\n                  <Card className={classes.Card}>\n                    <CardContent>\n                      <Typography style={{ display: 'inline-block' }} >{store.storename}</Typography>\n                      <Link style={{textDecoration : \"none\"}}to={`/store/${store._id}`}>\n                        <Button className={classes.visit}variant=\"outlined\">Visit</Button>\n                      </Link>\n                      <IconButton onClick={(e) => {handleRemoveFavorite(e)}}>\n                        <RemoveCircleOutlineIcon style={{ display: 'inline-block' }} id={store._id}></RemoveCircleOutlineIcon>\n                      </IconButton>\n                    </CardContent>\n                  </Card>)\n              })) : null}\n            {(selectedTab === 1 && comments) ? (\n              comments.map(comment => {\n                if(editComment===comment._id){\n                  return(\n                    <>\n                    <Card className={classes.Card}>\n                    <CardContent>\n                      <Box className={classes.box1}>\n                      <Typography variant=\"body1\">{comment.storename}</Typography>\n                      <RateStar handleSelectRate={setUpdatedStar}/>\n                      </Box>\n                      <Box className={classes.box3}>\n                      <TextField  className={classes.textfield}value={updatedContent} onChange={(e)=>setUpdatedContent(e.target.value)}></TextField>\n                      <Button className={classes.button} onClick={handleSubmit}>Update</Button>\n                      </Box>\n                    </CardContent>\n                    </Card>\n                    </>\n                  )\n                }\n                return(\n                  <Card className={classes.Card}>\n                    <CardContent>\n                      <Box className={classes.box1}>\n                      <Typography variant=\"body1\">{comment.storename}</Typography>\n                      <Typography style={{ display : 'inline-block'}} variant=\"body2\">{`rating : ${comment.rating}`}</Typography>\n                      </Box>\n                      <Box className={classes.box2}>\n                      <Typography style={{ display : 'block'}} variant=\"body2\">{comment.content}</Typography>\n                      </Box>\n                      <Box className={classes.box1}>\n                        <ButtonGroup>\n                        <IconButton onClick={(e) => {handleEditComment(e)}}><EditIcon id={comment._id}></EditIcon></IconButton>\n                        <IconButton onClick={(e) => {handleDeleteComment(e)}}><DeleteIcon id={comment._id}></DeleteIcon></IconButton>\n                        </ButtonGroup>\n                      </Box>\n                    </CardContent>\n                  </Card>\n                )\n              })\n            ) : null}\n        </MuiThemeProvider>\n    )\n}\nexport default User;","const axios = require('axios');\n\n// AddStore\nconst uploadStoreInfo = async (encodedFiles) => {\n    let response;\n    try{\n        const { data } = await axios.post('/stores/addstore', \n            encodedFiles,\n            { headers : {'Content-Type' : 'application/json'} }\n        )\n        // console.log('i success')\n        console.log('data: ', data)\n        if(data){\n            response = data.message\n            console.log(response)\n        }else{\n            console.log('flag')\n            response = 'success'\n        }\n    }catch(err){\n        console.log('i fail')\n        response = 'client-side error'\n    }\n    return response;\n}\n\n// Store\nconst fetchStoreData = async (storeId) => {\n    let response;\n    await axios.get(`/stores/store/${storeId}`)\n    .then(res => {\n        response = res.data;\n    })\n    .catch(err => { \n        console.error('Error : ',err)\n        response = \"error\" \n    })\n    return response;\n}\n\n// Comment\n\nconst sendComment = async (data) => {\n    let response;\n    await axios.post(`/stores/store/${data.storeid}`, data)\n    .then(res => {response = res})\n    .catch(err => {\n        throw err\n    })\n    return response;\n}\n\nconst reviseComment = async (data) => {\n    let response;\n    await axios.post('/users/comments', data)\n    .then(res => response = res)\n    .catch(err => {\n        console.log(err)\n    })\n    return response\n}\n\nconst getCoord = async (addr) => {\n    let response;\n    response = await axios.post('/stores/geo', {addr: addr})\n    .then(res => {\n        //console.log('data: ', res)\n        return res.data\n    })\n    .catch(err => {\n        response = 'error'\n        console.log('error: ', err)\n    })\n    //console.log('response: ', response)\n    return response\n}\n\nexport { uploadStoreInfo, fetchStoreData, sendComment, reviseComment, getCoord };\n","export const regions = ['公館', '118巷', '溫州街'];\nexport const avgPrice = ['< $100', '$100 ~ $150', '$150 ~ $200', '$200 ~ $250', '$250 ~ $300', '> $300'];\nexport const cuisines = ['台式', '中式', '韓式', '日式', '南洋', '義式', '其他']; ","import { Component } from 'react';\nimport { uploadStoreInfo } from '../routes/routes';\nimport { TextField, MenuItem, FormLabel, Button, IconButton, Snackbar, Box, Grid, Paper, Typography} from '@material-ui/core';\nimport { regions, avgPrice, cuisines } from '../Constants';\nimport { FreeBreakfastOutlined, RedeemRounded} from '@material-ui/icons';\nimport Alert from '@material-ui/lab/Alert';\nimport HighlightOffIcon from '@material-ui/icons/HighlightOff';\nimport { Redirect } from 'react-router-dom'\nimport { withStyles } from \"@material-ui/core/styles\";\n\nconst styles = theme => ({\n    root: {\n      backgroundColor: \"red\"\n    },\n    paper : {\n        padding : theme.spacing(4),\n        marginTop : theme.spacing(15)\n    },\n    paper2 : {\n        padding : theme.spacing(2),\n        margin : theme.spacing(1),\n        maxWidth : '100%',\n        maxHeight : '100%',\n    },\n    box : {\n        backgroundColor: \"#D4E6F1\",\n        borderRadius:20,\n        padding : theme.spacing(2),\n        marginTop : theme.spacing(2),\n        marginBottom : theme.spacing(2),\n    },\n    box2 : {\n        maxWidth : '40%',\n        maxHeight : '40%',\n    },\n    box3 : {\n        backgroundColor: \"#F2EDEB\",\n        borderRadius:20,\n        padding : theme.spacing(2),\n        marginTop : theme.spacing(2),\n        marginBottom : theme.spacing(2),\n    },\n    box4 : {\n        backgroundColor: \"#F7F0F5\",\n        borderRadius:20,\n        padding : theme.spacing(2),\n        marginTop : theme.spacing(2),\n        marginBottom : theme.spacing(2),\n    },\n});\n\n// Required: TextField, Select \nclass AddStore extends Component {\n    constructor(props){\n        super(props);\n        this.state = {\n            urls: [],\n            restaurant: null,\n            phone: null,\n            dist: null,\n            address: null,\n            min: null,\n            max: null,\n            avg: null,\n            cuisine: null,\n            errormessage: null,\n            error : false,\n            success : false\n        }\n    }\n\n    handleChange = event => {\n        this.setState({urls: []})\n        if (event.target.files){\n            const files = Array.from(event.target.files);\n           files.forEach(file => {\n               const reader = new FileReader();\n               reader.readAsDataURL(file);\n               reader.onloadend = () => {\n                   this.setState((prev) => ({\n                    urls: [...prev.urls, reader.result]\n                   }))\n               }\n           }); \n        }\n    }\n\n    handleValueChange = cap => {\n        const handleChange = event => {\n            const renew = new Object;\n            renew[cap] = event.target.value;\n            this.setState(renew);\n        }\n        return handleChange;\n    }\n\n    handleSubmit = async(e) => {\n        e.preventDefault();\n        const sendData = async () => {\n            const parsedData = { \n                images: this.state.urls \n            };\n            for (let [key, value] of Object.entries(this.state)) {\n                switch(key){\n                    case 'restaurant':\n                        parsedData.storename = value;\n                        break;\n                    case 'phone':\n                        parsedData.phone = value;\n                        break;\n                    case 'dist':\n                        parsedData.location = value;\n                        break;\n                    case 'address':\n                        parsedData.address = value;\n                        break;\n                    case 'min':\n                        if (value) parsedData.lowestPrice = value;\n                        break;\n                    case 'max':\n                        if (value) parsedData.highestPrice = value;\n                        break;\n                    case 'avg':\n                        parsedData.avgPrice = value;\n                        break;\n                    case 'cuisine':\n                        parsedData.type = value;\n                        break;\n                }\n            }\n            const res = await uploadStoreInfo(JSON.stringify(parsedData));\n            // res should either be success or the error message\n            if(res === \"success\"){\n                this.setState({\n                    success : true\n                })\n            } else if (res === 'client-side error') {\n                this.setState({\n                    errormessage: '系統出了一點問題QAQ 拜託再試一次Orz'\n                })\n            } else if(res !== \"success\"){\n                this.setState({\n                    error: true,\n                    errormessage : res\n                })\n            }\n        }\n        sendData();\n    }\n\n    handleSnackbarClose = () => {\n        this.setState({\n            error : false\n        })\n    }\n    render() {\n        const { classes } = this.props;\n        console.log('success', this.state.success)\n        return (\n            <>\n            {(!this.state.success) ? (\n            <Paper className={classes.paper}>\n            <Box className={classes.box}><Typography variant=\"h3\">表單</Typography></Box>\n            <form onSubmit={this.handleSubmit}>\n            <Grid container spacing={3} justify=\"center\">\n                <Grid item xs={6}><Box className={classes.box3}><TextField label=\"餐廳名稱\" variant=\"outlined\" autoFocus={true} onChange={this.handleValueChange('restaurant')} required/></Box></Grid>\n                <Grid item xs={6}><Box className={classes.box3}><TextField label=\"電話\" variant=\"outlined\" onChange={this.handleValueChange('phone')}/></Box></Grid>\n                \n                <Grid item xs={6}><Box className={classes.box4}><TextField label=\"區域\" variant=\"outlined\" onChange={this.handleValueChange('dist')} select>{regions.map(region => <MenuItem key={region} value={region}>{region}</MenuItem>)}</TextField></Box></Grid>\n                <Grid item xs={6}><Box className={classes.box4}><TextField label=\"地址\" variant=\"outlined\" onChange={this.handleValueChange('address')} required/></Box></Grid>\n                \n                <Grid item xs={6}><Box className={classes.box3}><TextField label=\"最低品項單價\" variant=\"outlined\" onChange={this.handleValueChange('min')}/></Box></Grid>\n                <Grid item xs={6}><Box className={classes.box3}><TextField label=\"最高品項單價\" variant=\"outlined\" onChange={this.handleValueChange('max')}/></Box></Grid>\n                <Grid item xs={6}><Box className={classes.box4}><TextField label=\"平均價位\" variant=\"outlined\" onChange={this.handleValueChange('avg')} select required>{avgPrice.map(price => <MenuItem key={price} value={price}>{price}</MenuItem>)}</TextField></Box></Grid>\n                <Grid item xs={6}><Box className={classes.box4}><TextField label=\"類別\" variant=\"outlined\" onChange={this.handleValueChange('cuisine')} select required>{cuisines.map(cuisine => <MenuItem key={cuisine} value={cuisine}>{cuisine}</MenuItem>)}</TextField></Box></Grid>\n                <Grid item xs={12}>\n                    <Box className={classes.box} justifyContent=\"center\">\n                        <div><Typography>上傳至少一張菜單圖片ㄅ～</Typography></div>\n                        <input name=\"file\" type=\"file\" onChange={this.handleChange} multiple={true} accept=\"image/\" required/>\n                    </Box>\n                <Grid item container>\n                    {this.state.urls.map(menu => \n                    <Grid item>\n                        <Paper className={classes.paper2} key={Date.now()}>\n                            <img className=\"menu\" src={menu}/>\n                        </Paper>\n                    </Grid>)\n                    }\n                </Grid>\n                <Grid item><Button type=\"submit\" variant=\"outlined\">送出</Button></Grid>\n                </Grid>\n                </Grid>\n            </form>\n            <Snackbar \n                anchorOrigin={{ vertical : 'top', horizontal : 'right' }}\n                open={this.state.error} \n                onClose={this.handleSnackbarClose}\n                autoHideDuration={2000} \n                action={\n                    <IconButton size=\"small\" aria-label=\"close\" color=\"inherit\" onClick={this.handleSnackbarClose} >\n                        <HighlightOffIcon fontSize=\"small\"/>\n                    </IconButton>\n                }\n            >\n                <Alert severity=\"error\" onClose={this.handleSnackbarClose}>\n                {(this.state.error) ? `${this.state.errormessage}` : null}\n                </Alert>\n            </Snackbar>\n            </Paper>) : <Redirect to=\"/\" />\n            }\n            </>\n        )\n    }\n}\n\nexport default withStyles(styles)(AddStore);","\nimport Button from '@material-ui/core/Button';\nimport AppBar from '@material-ui/core/AppBar';\nimport React, {useState , useContext} from \"react\";\nimport Random from './Random'\nimport { IconButton, Backdrop, FormControl, InputLabel, makeStyles, TextField, Grid, Paper} from '@material-ui/core';\nimport EmojiObjectsIcon from '@material-ui/icons/EmojiObjects';\nimport FaceIcon from '@material-ui/icons/Face';\nimport './Navbar.css';\nimport AddCircleIcon from '@material-ui/icons/AddCircle';\nimport HomeIcon from '@material-ui/icons/Home';\nimport userContext from '../userContext'\nimport ExitToAppIcon from '@material-ui/icons/ExitToApp';\nimport foodIcon from '../Image/foodicon.png'\nimport { Avatar } from '@material-ui/core';\n\n// import instance from \"../routes\"\nimport { Link } from 'react-router-dom'  \n\nconst useStyles=makeStyles((theme)=>({\n    appbar:{\n        display: 'flex',\n        padding : theme.spacing(3),\n        backgroundColor : \"#D4E6F1\"\n    },\n    Button:{\n        margin:theme.spacing(2),\n        alignSelf: 'flex',\n    },\n    backdrop: {\n        zIndex: theme.zIndex.drawer + 1,\n        color: '#fff',\n    }\n}))\n\nexport default function Mainbar(){\n    let {user, setUser} = useContext(userContext)\n    const classes=useStyles();\n    const[open, setOpen] = useState(false)\n    const handleClose = () => {\n        setOpen(false)\n    }\n    const handleLogOut = () => {\n        setUser(null)\n    }\n    return(\n        <>\n        <Grid container>\n        <AppBar className={classes.appbar}>\n            <Grid item container spacing={2} style={{display: \"flex\" , justifyContent: 'flex-end'}}>\n                {\n                    (user) ? (\n                        <>\n                        <Grid item><Link to='/' style={{ textDecoration : \"none\" }}><IconButton><HomeIcon></HomeIcon></IconButton></Link></Grid>\n                        <Grid item><IconButton><ExitToAppIcon onClick={handleLogOut}></ExitToAppIcon></IconButton></Grid>\n                        <Grid item><Link to=\"/addstore\" style={{ textDecoration : \"none\"}}><IconButton><AddCircleIcon></AddCircleIcon></IconButton></Link></Grid>\n                        <Grid item><IconButton onClick={() => setOpen(prev => !prev)}><EmojiObjectsIcon></EmojiObjectsIcon></IconButton></Grid>\n                        <Grid item><Link to=\"/profile\" style={{ textDecoration : \"none\"}}><IconButton><Avatar src={user.profilePic} /></IconButton></Link></Grid>\n                        </>\n                    ) : (\n                        <Grid item>\n                            <Link to=\"/login\" style={{ textDecoration : \"none\"}}><Button className={classes.Button} variant=\"outlined\" color=\"default\" size=\"large\">Login</Button></Link>\n                            <Link to='/' style={{ textDecoration : \"none\" }}><IconButton><HomeIcon></HomeIcon></IconButton></Link>\n                            <IconButton onClick={() => setOpen(prev => !prev)}><EmojiObjectsIcon></EmojiObjectsIcon></IconButton>\n                        </Grid>\n                    )\n                }\n            </Grid>\n        </AppBar>\n        </Grid>\n        <Backdrop open={open} className={classes.backdrop}>\n            <Random CloseBackdrop={handleClose}/>\n        </Backdrop>\n        </>\n    )\n}\n\n","import Select from '@material-ui/core/Select';\nimport Button from '@material-ui/core/Button';\nimport MenuItem from '@material-ui/core/MenuItem';\nimport React, {useState, useContext, useEffect} from \"react\";\nimport Random from './Random'\nimport {Backdrop, FormControl, InputLabel, makeStyles, TextField, Grid, Paper, Box} from '@material-ui/core';\nimport userContext from '../userContext'\nimport './Navbar.css';\n\n\nconst useStyles = makeStyles((theme)=>({\n    root: {\n        flexGrow: 1,\n        display : 'flex',\n        // position: 'fixed',\n        bottom: theme.spacing(2),\n        right: theme.spacing(2),\n    },\n    FormControl:{\n        marginRight : theme.spacing(7),\n        marginLeft : theme.spacing(7),\n        marginTop : theme.spacing(2),\n        marginBottom : theme.spacing(2),\n        // display : 'flex', \n        minWidth : '20%',\n        minHeight : '10%',\n        alignSelf : 'flex-end',\n        flexGrow : 1,  \n    },\n    toolbar: {\n        minHeight: 128,\n        alignItems: 'fixed-end',\n        paddingTop: theme.spacing(1),\n        paddingBottom: theme.spacing(2),\n    },\n    submit : {\n        margin : theme.spacing(5),\n    },\n    button:{\n        marginLeft : theme.spacing(2),\n        alignSelf: 'flex',\n    },\n    Avatar:{\n        margin:theme.spacing(0),\n    },\n    backdrop: {\n        zIndex: theme.zIndex.drawer + 1,\n        color: '#fff',\n    },\n    paper : {\n        marginTop : theme.spacing(16),\n        marginRight : theme.spacing(2),\n        marginLeft : theme.spacing(2),\n        padding : theme.spacing(2)\n    },\n    box2 : {\n        margin : theme.spacing(2),\n        // display : 'flex',\n        backgroundColor: \"#D4E6F1\",\n        borderRadius:20,\n        padding : theme.spacing(2)\n    },\n    select : {\n        minWidth : '40%'\n    }\n}))\n\nexport default function Navbar({Local,Price,Prefer,Submit,search,handleSearch,handlesetSearch}){\n    let {user} = useContext(userContext)\n    const classes=useStyles();\n   \n    const[open, setOpen] = useState(false)\n    // const[search, setSearch] = useState('')\n    const handleChangelocal= e =>{\n        Local(e.target.value)\n    };\n    const handleChangeprice= e =>{\n        Price(e.target.value)\n    };\n    const handleChangeprefer= e =>{\n        Prefer(e.target.value)\n    };\n    const handleClose = () => {\n        setOpen(false)\n    }\n    const handleSetSearch = (e) => {\n        handlesetSearch(e.target.value)\n    }\n   \n    \n    {console.log(\"search\",search);}\n    return(\n        <>\n            <Paper className={classes.paper}>\n                <Box className={classes.box2}>\n                        <FormControl className={classes.FormControl}>\n                        <InputLabel>location</InputLabel>\n                        <Select className={classes.select}\n                        labeled=\"select-location\"\n                        id=\"location-select\"\n                        displayEmpty\n                        // value={location}\n                        onChange={handleChangelocal}\n                        >\n                            {/* <MenuItem value=\"\">Empty</MenuItem> */}\n                            <MenuItem value={\"118\"}>118巷</MenuItem>\n                            <MenuItem value={\"公館\"}>公館</MenuItem>\n                            <MenuItem value={\"溫州街\"}>溫州街</MenuItem>\n\n                        </Select>\n                    </FormControl>\n                        <FormControl className={classes.FormControl} >\n                        <InputLabel>Price</InputLabel>\n                        <Select className=\"select\"\n                        labeled=\"select-price\"\n                        id=\"price-select\"\n                        displayEmpty\n                        // value={price}\n                        onChange={handleChangeprice}\n                        >\n                            {/* <MenuItem value={\"\"}>Empty</MenuItem> */}\n                            <MenuItem value={\"$\"}>$</MenuItem>\n                            <MenuItem value={\"$$\"}>$$</MenuItem>\n                            <MenuItem value={\"$$$\"}>$$$</MenuItem>\n                        </Select>\n                    </FormControl>\n                        <FormControl className={classes.FormControl} >\n                        <InputLabel>Preference</InputLabel>\n                        <Select className=\"select\"\n                        labeled=\"select-prefer\"\n                        id=\"prefer-select\"\n                        displayEmpty\n                        // value={prefer}\n                        onChange={handleChangeprefer}\n                        >\n                            {/* <MenuItem value={\"\"}>Empty</MenuItem> */}\n                            <MenuItem value={\"台式\"}>台式</MenuItem>\n                            <MenuItem value={\"中式\"}>中式</MenuItem>\n                            <MenuItem value={\"韓式\"} >韓式</MenuItem>\n                            <MenuItem value={\"日式\"}>日式</MenuItem>\n                            <MenuItem value={\"美式\"}>美式</MenuItem>\n                            <MenuItem value={\"南洋\"}>南洋</MenuItem>\n                            <MenuItem value={\"其他\"}>其他</MenuItem>\n                        </Select>\n                        </FormControl>\n                        <FormControl className={classes.submit}>\n                            <Button onClick={Submit}>Submit</Button>\n                        </FormControl>\n                    </Box>\n                    <Box className={classes.box2} alignItems=\"center\" justifyContent=\"center\">\n                        <TextField className={classes.button} value={search} variant=\"outlined\" label=\"Restaurant name\" onChange={(e) => handleSetSearch(e)}></TextField>\n                        <Button className={classes.button} onClick={handleSearch}>Search</Button>\n                    </Box>\n            </Paper>\n            <Backdrop open={open} className={classes.backdrop}>\n                <Random CloseBackdrop={handleClose}/>\n            </Backdrop>\n        {/* // </Grid> */}\n       </>\n    )\n}\n\n","import React, { useState , useContext,useEffect} from 'react';\nimport { makeStyles } from '@material-ui/core/styles';\nimport Card from '@material-ui/core/Card';\nimport Button from '@material-ui/core/Button';\nimport Grid from '@material-ui/core/Grid';\nimport Typography from '@material-ui/core/Typography';\nimport IconButton from '@material-ui/core/IconButton';\nimport FavoriteIcon from '@material-ui/icons/Favorite';\nimport StarIcon from '@material-ui/icons/Star';\nimport FavoriteBorderIcon from '@material-ui/icons/FavoriteBorder';\nimport { \n  BrowserRouter as Router,\n  Switch,\n  Route,\n  Link\n} from 'react-router-dom' \n\nimport axios from \"axios\"\nimport userContext from '../userContext'\n// import { Box } from '@material-ui/core';\nconst instance = axios\n\nconst useStyles = makeStyles(theme => ({\n  root: {\n    maxWidth: '100%',\n    margin : theme.spacing(2),\n    padding : theme.spacing(2)\n  },\n  title: {\n    fontSize: 14,\n  },\n  pos: {\n    marginBottom: 12,\n  },\n  typography : {\n    marginRight : theme.spacing(2)\n  }\n}));\n\nexport default function OutlinedCard(props) {\n  const classes = useStyles();\n  const[check, setCheck]=useState(false)\n  // const[firstcheck,setFirstcheck]=useState(false)\n  let {user, setUser} = useContext(userContext)\n  \n  const Favorite = async() => {\n    console.log('data:', user._id,props.data._id);\n    const {data}= await instance.post(\"/users/favorite\",{ \n      userID : user._id,\n      storeID : props.data._id\n    })\n    const array = data.map(fav => fav._id)\n    setUser(prev => {\n      return {\n        ...prev,\n        favorites : [...array]\n      }\n    })\n  }\n  \n  const UnFavorite=async()=>{\n      const {data}= await instance.delete(`/users/favorite?USERID=${user._id}&STOREID=${props.data._id}`)\n      const array = data.map(fav => fav._id)\n      setUser(prev => {\n        return {\n          ...prev,\n          favorites : [...array]\n        }\n      })\n  }\n  useEffect(()=>{\n    if(user){\n      user.favorites.map(favor_id=>{\n        if(props.data._id===favor_id){\n          setCheck(true);\n        }})\n    }else{\n      console.log(\"1Login ,please\");\n    }\n  },[])\n  \n    return (\n    <Card className={classes.root} variant=\"outlined\">\n        <Grid container direction=\"row\" alignItems=\"center\" spacing={2} justify=\"space-between\">\n          <Grid item>\n            <Link to ={`/store/${props.data._id}`} style={{textDecoration:\"none\",color:\"black\"}} >\n              <Typography variant=\"h5\" component=\"h2\">\n                {props.data.storename}\n              </Typography>\n            </Link>\n          </Grid>\n          <Grid item>\n              <IconButton aria-label=\"add to favorites\" onClick={()=>setCheck(()=>{\n                if(check){UnFavorite();}else{Favorite();} console.log(\"check1\",check); return !check})} disabled={!user}>\n                { check ?\n                  <FavoriteIcon id={props.data._id} color='error'/> :\n                  <FavoriteIcon />\n                }\n              </IconButton>\n            </Grid>\n          <Grid item container>\n            <Grid item>\n              <StarIcon></StarIcon>\n            </Grid>\n            <Grid item>\n              <Typography className={classes.typography}>\n              {props.data.rating? (`${props.data.rating}`): 0 }\n              </Typography>\n            </Grid>\n            <Grid item>\n              <FavoriteBorderIcon></FavoriteBorderIcon>\n            </Grid>\n            <Grid item>\n              <Typography className={classes.typography}>\n              {props.data.favorites? (`${props.data.favorites}`): 0 }\n              </Typography>\n            </Grid>\n          </Grid>\n        </Grid>\n    </Card>\n  )\n\n  \n}\n","import React,{useState,useEffect} from 'react';\nimport { makeStyles } from '@material-ui/core/styles';\nimport Button from '@material-ui/core/Button';\nimport OutlinedCard from \"./OutlinedCard\"\nimport { Grid, Paper } from '@material-ui/core';\n// import  { uploadStoreInfo, fetchStoreData } from \"../routes/routes\";\n// import axios from \"axios\";\n// import { \n//   BrowserRouter as Router,\n//   Switch,\n//   Route,\n//   Link\n// } from 'react-router-dom' \n\n// const instance = axios.create({baseURL : \"http://localhost:4000\"});\n\nconst useStyles = makeStyles((theme)=>({\n    list : {\n      margin : theme.spacing(2)\n    }  \n  }));\n  \nexport default function StoreList(props){\n    const classes = useStyles();\n    return( \n      <>\n        <Grid container justify=\"center\" className={classes.list}>\n            {\n              props.data ? \n              props.data.map(item=> {\n                return (\n                  <Grid item xs={8}>\n                    <OutlinedCard data={item} key={item._id} />\n                  </Grid>\n                )}) : null\n            }          \n        </Grid>\n      </>\n    )\n}\n","// import Button from '@material-ui/core/Button';\nimport Navbar from './Navbar'\nimport StoreList from \"./StoreList\"\nimport axios from \"axios\"\nimport Alert from '@material-ui/lab/Alert';\nimport HighlightOffIcon from '@material-ui/icons/HighlightOff';\nimport { makeStyles, Snackbar , IconButton, Grid} from '@material-ui/core'\nimport { useState ,useEffect , useContext} from 'react'\nimport userContext from '../userContext'\n\nconst useStyles = makeStyles(theme => ({\n  snackbar : {\n    padding : theme.spacing(1)\n  },\n}))\n\n\n// const axios = axios.create({baseURL : \"/stores\"});\nexport default function Main() {\n  \n  let {user} = useContext(userContext)\n  const classes = useStyles()\n  const [content,setContents]=useState(\"\") \n  const[location,setLocal] = useState(\"\");\n  const[price,setPrice] = useState(\"\");\n  const[prefer,setPrefer] = useState(\"\");\n  const[search,setSearch] = useState(\"\")\n  let [error,setError] = useState(null)\n\n  const handleSetLocal = (e) => {\n    setLocal(e)\n  }\n  const handleSetPrice = (e) => {\n    setPrice(e)\n  }\n  const handleSetPrefer = (e) => {\n    setPrefer(e)\n  }\n  const handleClose = () => {\n    setError(false)\n  }\n  const handleError = () => {\n    setError(false)\n  }\n  const handlesetSearch = (e) => {\n    setSearch(e)\n  } \n  useEffect(async ()=>{\n    const {data} = await axios.get(\"/stores\");\n    if(data.msg){\n      setContents(null)\n    }else if(data.Error){\n      console.log(data.Error)\n    }else{\n      setContents(data);\n    }\n   \n  },[])\n\n  const Submit = async() => {\n    const {data} = await axios.post(\"/stores\",{\n      pricing:price,\n      location:location,\n      preferences:prefer\n    });\n    console.log(\"data\",data)\n    if(data.msg){\n      setContents(null)\n    }else if(data.Error){\n      console.log(data.Error)\n    }else{\n      setContents(data);\n    }\n  }\n  const handleSearch = async()=>{\n    const {data} = await axios.post(`/stores/search/?QUERY=${search}`)\n    if(data.msg){\n      setContents(null)\n    }else if(data.Error){\n      console.log(data.Error)\n    }else{\n      setContents(data);\n    }\n  }\n  return (\n      <div className=\"main\">\n        <Navbar Local={handleSetLocal} Price={handleSetPrice} Prefer={handleSetPrefer} Submit={Submit} search={search} handleSearch={handleSearch} handlesetSearch={handlesetSearch}/>\n        <div className=\"stores\">\n              <StoreList className=\"storeList\" data={content}/>\n        </div>\n        <Snackbar className={classes.snackbar}\n                  anchorOrigin={{ vertical : 'top', horizontal : 'right' }}\n                  open={error} \n                  onClose={handleClose}\n                  autoHideDuration={2000} \n                  action={\n                      <IconButton size=\"small\" aria-label=\"close\" color=\"inherit\" onClick={handleError} >\n                          <HighlightOffIcon fontSize=\"small\" />\n                      </IconButton>\n                  }\n              >\n                  <Alert severity=\"error\" onClose={handleError}>\n                  {error ? `${error}` : null}\n                  </Alert>\n              </Snackbar>\n      </div>\n      \n    );\n}\n","import { useState } from 'react';\nimport { List, ListItem, ListItemIcon, ListItemText, GridList, GridListTile, Backdrop, ButtonBase, Button } from '@material-ui/core';\nimport { makeStyles } from '@material-ui/core/styles';\nimport RestaurantIcon from '@material-ui/icons/Restaurant';\nimport PhoneIcon from '@material-ui/icons/Phone';\nimport RoomIcon from '@material-ui/icons/Room';\nimport Divider from '@material-ui/core/Divider';\nimport Paper from '@material-ui/core/Paper';\n\nconst useStyles = makeStyles(theme => (\n    {\n        infoList: {\n            // display: 'inline-flex',\n            flexWrap: 'wrap',\n            width: '100%',\n            backgroundColor: theme.palette.background.paper,\n        },\n        menuGrid: {\n            display: 'block',\n            width: '100%',\n            overflowX: 'auto',\n            whiteSpace: 'nowrap'\n        },\n        grid: {\n            display: 'inline'\n        },\n        imageContainer: {\n            position: 'relative',\n            border: '5px',\n            height: 100,\n            '&:hover': {\n                cursor: 'pointer',\n            }\n        },\n        imageButton: {\n            position: 'absolute',\n            height: '100%',\n            left: 0,\n            right: 0,\n            top: 0,\n            bottom: 0,\n            backgroundSize: 'cover',\n            backgroundPosition: 'center'\n\n        },\n        backdrop: {\n            zIndex: theme.zIndex.drawer + 1,\n            color: '#fff'\n        },\n        divider:{\n            display: 'flex',\n            flexWrap: 'wrap',\n            marginTop : theme.spacing(1),\n            // marginBottom : theme.spacing(1),\n            // width: '175%'\n\n        },\n    }\n));\n\nfunction TogglePic() {\n    //const [ open, setOpen ] = useState(false)\n    return useState(false);\n}\n// Backdrop\nfunction BasicInfo (props) {\n    const classes = useStyles();\n    function MenuGrid (props) {\n        // console.log(props.data)\n        return (\n            <div className={classes.menuGrid}>\n                {props.data && props.data.menus.map(menu => {\n                    const [ open, setOpen ] = TogglePic();\n                    // console.log(menu)\n                    return (\n                        <div key={Date.now()+ Math.random()} className={classes.grid}>\n                            <ButtonBase\n                                onClick={() => setOpen(true)}\n                            >\n                                <div className={classes.imageContainer} >\n                                    <img src={menu} style={{height: '100%'}}/>\n                                </div>\n                            </ButtonBase>\n\n                            <Backdrop className={classes.backdrop} open={open} onClick={() => setOpen(false)}>\n                                <img src={menu}/>\n                            </Backdrop>\n                            \n                        </div>\n                    )\n                })}\n            </div>     \n        )\n    }\n    return (\n        <div className={classes.infoList}>\n            <List>\n                <ListItem>\n                <ListItemIcon>\n                    <RestaurantIcon />\n                </ListItemIcon>\n                <ListItemText primary={props.data&&props.data.storeName} />\n                </ListItem>\n                {/* <Divider light className={classes.divider}/> */}\n                <ListItem>\n                    <ListItemIcon>\n                        <RoomIcon />\n                    </ListItemIcon>\n                    <ListItemText primary={props.data&&props.data.address} />\n                </ListItem>\n                {/* <Divider light className={classes.devider}/> */}\n                <ListItem>\n                    <ListItemIcon>\n                        <PhoneIcon />\n                    </ListItemIcon>\n                    <ListItemText primary={props.data&&props.data.phone} />\n                </ListItem>\n                \n                \n                <Divider light variant=\"middle\" className={classes.divider}/>\n            </List>\n            \n            <MenuGrid data={props.data}/>\n\n            <Divider light variant=\"middle\" className={classes.divider}/>\n        </div>\n    )\n}\n\nexport default BasicInfo;","import { createContext } from 'react'\nconst userCommentContext = createContext(null)\nexport default userCommentContext","import React, { useState, useEffect, useContext } from 'react';\nimport userContext from '../../userContext';\nimport { sendComment , reviseComment} from '../../routes/routes';\nimport { TextField, IconButton, Avatar, List, ListItem, ListItemAvatar, ListItemText, Typography , Button} from '@material-ui/core';\nimport { makeStyles } from '@material-ui/core/styles';\nimport SendIcon from '@material-ui/icons/Send';\nimport StarIcon from '@material-ui/icons/Star';\nimport RateStar from './Ratestar'\nimport StarBorderIcon from '@material-ui/icons/StarBorder';\nimport FavoriteIcon from '@material-ui/icons/Favorite';\nimport FavoriteBorderIcon from '@material-ui/icons/FavoriteBorder';\n// import userRateContext from './userRateContext'\nimport userCommentContext from './userCommentContext'\n\nconst useStyles = makeStyles((theme) => ({\n    root: {\n        margin: '10px',\n    },\n    commentList: {\n        height: '40%',\n        overflowY: 'scroll'\n    },\n    inlineStar: {\n        display: 'inline'\n    },\n    typeInComment: {\n        \n    }\n}));\n\nfunction Review (props) {\n    //props.data\n    const classes = useStyles();\n    let { user } = useContext(userContext)\n    // const [commented, setCommented] = useState()\n    let { userComment , userRate, setUserRate, setUserComment, commented, setCommented, userCommentId, setUserCommentId,  edit, setEdit} = useContext(userCommentContext)\n    // const handleUpdateComment = (newComment) => {\n    //     setUserComment(newComment)\n    // }\n    // const handleUpdateStar = (newRate) => {\n    //     setUserRate(newRate)\n    // }\n    useEffect(() => {\n        if(userComment){\n            setCommented(true)\n        }\n    }, [])\n    useEffect(() => {\n\n    }, [])\n    function CommentedBox (props) {\n        //username rating content profilePic\n        return (\n            <ListItem key={Date.now() + Math.random()}>\n                <ListItemAvatar>\n                    <Avatar src={props.profilePic} />\n                </ListItemAvatar>\n                    <ListItemText \n                        primary={props.username}\n                        secondary={\n                            <React.Fragment>\n                                <Typography\n                                    component=\"span\"\n                                    className={classes.inlineStar}\n                                    color=\"textPrimary\"\n                                >\n                                    {props.rating} <StarIcon/>\n                                </Typography>\n                                {props.content}\n                            </React.Fragment>\n                        }\n                    />\n                \n            </ListItem>\n        )\n    }\n\n    function TypeIn () {\n        let { userComment , userRate, setUserRate, setUserComment, commented, setCommented, userCommentId, setUserCommentId,  edit, setEdit} = useContext(userCommentContext)\n        const handleSubmit = async () => {\n            if (userRate === 0) {\n                alert('請給至少一顆星星的評價ㄛ');\n            } else if(userComment === 0) {\n                alert('請至少輸入一個字的評論ㄛ');\n            } else {\n                let data = {\n                    storename: props.data.storename,\n                    username: user.username,        \n                    content: userComment,\n                    rating: userRate,\n                    storeid: props.data.storeId\n                }\n                try {\n                    if(edit){\n                        data = {\n                            ...data,\n                            _id : userCommentId\n                        }\n                        const response = await reviseComment(data)\n                        console.log('response: ', response.data)\n                        if(response){\n                            setCommented(true)\n                            setEdit(false)\n                        }\n                    }else{\n                        const response = await sendComment(data);\n                        console.log('response: ', response.data)\n                        if(response){\n                            setCommented(true)\n                            setUserCommentId(response.data._id)\n                        }\n                    }\n                } catch (e) {\n                    throw e\n                }\n            }\n        }\n        return (\n            user ? \n            ((!edit && userComment && commented) ? (\n                    <CommentedBox username={user.username} rating={userRate} content={userComment} user={user.profilePic} />\n                ): <div className={classes.typeInComment}>\n                    <div style={{display: 'flex'}}>\n                        <Avatar style={{right: '5px'}} src=\"\"/>\n                        <div>\n                            <span style={{display: 'block'}}>{user.username}</span>\n                            <RateStar \n                                handleSelectRate={setUserRate}\n                                style={{display: 'block'}}\n                            />\n                        </div>\n                    </div>\n                    <TextField autoFocus onChange={(e)=>{setUserComment(e.target.value)}} value={userComment}/>\n                    <IconButton onClick={handleSubmit}>\n                        <SendIcon />\n                    </IconButton>\n                </div>) : <div>先登入才可以評論ㄛ～</div>\n        )\n    }\n    \n    function Comments (props) {\n        const { userComment, setUserComment, userRate, setUserRate} = useContext(userCommentContext)\n        let comments = []\n        if (props.comments) {\n            if (user) {//console.log(\"comments: \", props)\n                props.comments.forEach(comment => {\n                    if (comment.username !== user.username){\n                        comments.push(<CommentedBox key={comment._id} username={comment.username} rating={comment.rating} content={comment.content} profilePic={comment.profilePic}/>)\n                        // console.log('comments: ', comments)\n                    } else {\n                        console.log(comment)\n                        setUserCommentId(comment._id)\n                        setUserComment(comment.content)\n                        setUserRate(comment.rating)\n                    }\n                })\n            } else {\n            props.comments.forEach(comment => {\n                comments.push(<CommentedBox username={comment.username} rating={comment.rating} content={comment.content} profilePic={comment.profilePic}/>)\n                console.log('comments: ', comments)\n            })\n        }\n        } \n        return (\n            <List className={classes.commentList} >\n                {comments}\n            </List>\n        )\n        \n    }\n    return ( \n        <div className={classes.root}>\n            <TypeIn edit={edit} />\n            {commented ? (<Button onClick={ () => setEdit(true) }>修改</Button>) : null}\n            <Comments comments={props.data&&props.data.comments}/>\n        </div>\n    )\n}\n\nexport default Review;","import React, { useState, useEffect } from 'react'\nimport  { MapContainer, TileLayer, Popup, CircleMarker}  from 'react-leaflet'\nimport './Map.css'\nimport { makeStyles } from '@material-ui/core/styles';\nimport {Typography, Card, CardContent} from '@material-ui/core'\nimport StarRoundedIcon from '@material-ui/icons/StarRounded';\n\nconst useStyles = makeStyles({\n    root: {\n        minWidth: 300\n    },\n    title: {\n        fontSize: 20,\n    },\n    rating: {\n        fontSize : 15\n    }\n});\n  \nfunction StoreMap({ calculateDistance, storename , userCoords, storeCoords, location, rating}){\n        console.log(storename, userCoords, storeCoords, location, rating)\n        const classes = useStyles()\n        let [distance, setDistance] = useState()\n        // useEffect(() => {\n        //     const [userLat, userLng] = userCoords\n        //     const [storeLat, storeLng] = storeCoords\n        //     // parseFloat\n        //     setDistance(calculateDistance(userLat, userLng, storeLat, storeLng)) \n        // }, [])\n        return(\n            <MapContainer center={storeCoords} zoom={13} scrollWheelZoom={false}>\n                <TileLayer\n                    draggable=\"true\"\n                    attribution='<a href=\"https://www.maptiler.com/copyright/\" target=\"_blank\">&copy; MapTiler</a> <a href=\"https://www.openstreetmap.org/copyright\" target=\"_blank\">&copy; OpenStreetMap contributors</a>'\n                    url=\"https://api.maptiler.com/maps/streets/{z}/{x}/{y}.png?key=98cqmbPl7vgPxrspXRdI\"\n                />\n                <CircleMarker \n                    center={storeCoords}\n                    radius={10}\n                >\n                <Popup position={storeCoords}>\n                    <Card>\n                        <CardContent>\n                            <Typography variant=\"h4\">{storename}</Typography>\n                            <Typography className={classes.rating} color=\"textSecondary\">\n                                <StarRoundedIcon className={classes.rating}/>\n                                {` ${rating}`}\n                            </Typography>\n                            <Typography className={classes.rating}>{location}</Typography>\n                            <Typography className={classes.rating}>{`Distance : ${distance} KM`}</Typography>\n                        </CardContent>\n                    </Card>\n                </Popup>\n                </CircleMarker>\n            </MapContainer>\n        )\n}\n\nexport default StoreMap;\n\n","import { CodeSharp } from \"@material-ui/icons\"\nimport { useEffect , useContext, useState} from \"react\"\nimport { getCoord } from './routes/routes'\nimport StoreMap from \"./StoreMap\"\nimport userCommentContext from './components/store/userCommentContext'\n// import findCoord from './child_process/findCoord'\nfunction MapContainer({\n    coords,\n    isGeolocationAvailable, // boolean flag indicating that the browser supports the Geolocation API\n    isGeolocationEnabled, // boolean flag indicating that the user has allowed the use of the Geolocation API\n    positionError, // object with the error returned from the Geolocation API call\n}){\n    const [storeCoordination, setStoreCoordination] = useState();\n    const {address, storename, rating} = useContext(userCommentContext) \n    // const {storename} = useContext(userCommentContext)\n    //console.log(address)\n    console.log('flag2: ', coords)\n    let { latitude, longitude } = coords\n    console.log('flag')\n    useEffect(async() => {\n        const loc = await getCoord(address)\n        console.log('loc: ', loc)\n        if (loc !== 'error'){\n            // const data = JSON.parse(loc)\n            const data = loc\n            let lat = data.lat;\n            let log = data.log;\n            lat = parseFloat(lat)\n            log = parseFloat(log)\n            setStoreCoordination({ lat : lat, log : log})\n            console.log(lat, log)\n        } \n        // setStoreCoordination(loc)\n    },[])\n    //const storeCoordination = await getCoord(address)\n    //console.log('storeCoordi', storeCoordination)\n    // let lat, log;\n    // if (storeCoordination !== 'error'){\n    //     const data = JSON.parse(storeCoordination)\n    //     lat = data.lat;\n    //     log = data.log;\n    //     lat = parseFloat(lat)\n    //     log = parseFloat(log)\n    //     console.log(lat, log)\n    // } \n    // useEffect(() => {\n    //     if (storeCoordination !== 'error'){\n    //         const data = JSON.parse(storeCoordination)\n    //         lat = data.lat;\n    //         log = data.log;\n    //         lat = parseFloat(lat)\n    //         log = parseFloat(log)\n    //         console.log(lat, log)\n    //     } \n    // }, [storeCoordination])\n    const calculateDistance = (lat1, lng1, lat2, lng2) => {\n        // spherical coordinates dl = ( dr , r * dtheta + r^2 , r * sintheta * dphi)\n        const EARTH_RADIUS = 6371\n        let Squared = Math.sin((lat2-lat1)*Math.PI/180) * Math.sin((lat2-lat1)*Math.PI/180) + \n        Math.cos(lat1*Math.PI/180)*Math.cos(lat2*Math.PI/180) * \n        Math.sin((lng2-lng1)*Math.PI/2*180)*Math.sin((lng2-lng1)*Math.PI/2*180)\n        let d = 2 * EARTH_RADIUS * Math.asin(Math.sqrt(Squared))\n        return d\n    }\n\n    return(\n        <>\n            { (!isGeolocationAvailable) ? (\n                    <div>Your browser does not support Geolocation</div>\n                ) : (!isGeolocationEnabled) ? (\n                    <div>Geolocation is not enabled, if using Safari, please switch to Chrome</div>\n                ) :  (coords && storeCoordination)? (\n                    <StoreMap calculateDistance={calculateDistance} storename={storename} userCoords={[latitude, longitude]} storeCoords={storeCoordination&&[storeCoordination.lat, storeCoordination.log]} location={address} rating={rating} />\n                ) : (\n                    <div>Loading</div>\n                )\n            }\n        </>\n    )\n}\nexport default MapContainer\n/*\n{\n        coords,\n        isGeolocationAvailable, // boolean flag indicating that the browser supports the Geolocation API\n        isGeolocationEnabled, // boolean flag indicating that the user has allowed the use of the Geolocation API\n        positionError, // object with the error returned from the Geolocation API call\n    }\n*/\n","import React from \"react\";\nimport { geolocated } from \"react-geolocated\";\nimport MapContainer from './MapContainer'\n\nclass Geolocator extends React.Component {\n    render() {\n        console.log('coords1: ', this.props.coords)\n        //console.log(this.props.isGeolocationAvailable, this.props.isGeolocationEnabled)\n        if(this.props.coords){console.log('coords2: ', this.props.coords.latitude)}\n        return(\n            this.props.coords ? (\n            <MapContainer \n                address={this.props.address}\n                coords={{\n                    latitude : this.props.coords.latitude,\n                    longitude : this.props.coords.longitude,\n                    altitude : this.props.coords.altitude,\n                    accuracy : this.props.coords.accuracy,\n                    altitudeAccuracy : this.props.coords.altitudeAccuracy,\n                    heading : this.props.coords.heading,\n                    speed : this.props.coords.speed\n                }}\n                isGeolocationAvailable={this.props.isGeolocationAvailable}\n                isGeolocationEnabled={this.props.isGeolocationEnabled}\n                positionError={this.props.positionError}\n            />) : <h5>Getting coordinates...</h5>\n        )\n    }\n}\n\nexport default geolocated({\n    positionOptions: {\n        enableHighAccuracy: false,\n    },\n    userDecisionTimeout: 10000,\n    isOptimisticGeolocationEnabled : true,\n    watchPosition  : true\n})(Geolocator);","import { fetchStoreData } from '../routes/routes'\nimport BasicInfo from '../components/store/BasicInfo';\nimport Review from '../components/store/Review';\nimport { useEffect, useState } from 'react';\nimport { useParams } from 'react-router-dom';\nimport {Paper, makeStyles} from '@material-ui/core';\nimport Map from '../Geolocator'\n\n//import userRateContext from '../components/store/userCommentContext'\nimport userCommentContext from '../components/store/userCommentContext'\n\nconst useStyles = makeStyles(theme => ({\n    root: {\n        overflow: 'visible',\n        display: 'flex',\n        \n    },\n    leftBar: {\n        width: '40%'\n    },\n    paper : {\n        display: 'absolute',\n        marginTop : theme.spacing(20),\n        marginLeft : theme.spacing(5),\n        marginRight : theme.spacing(2),\n        marginButtom: theme.spacing(3),\n        height: '100%'\n    },\n    info : {\n        marginLeft : theme.spacing(0),\n        marginRight : theme.spacing(0),\n        maxWidth: 360,\n        width: '100%',\n        height: '60%'\n    },\n    map: {\n        display: 'absolute',\n        marginTop: '260px',\n        display: 'inline',\n        width: '60%',\n        marginRight: '5px'\n    }\n}))\nfunction StoreContainer (props) {\n    const classes = useStyles();\n    const { id } = useParams();\n    let data;\n    const [ basicInfo, setBasicInfo ] = useState(null)\n    const [ review, setReview ] = useState(null)\n    const [ userComment, setUserComment] = useState(null);\n    const [ userRate, setUserRate] = useState(null);\n    const [commented, setCommented] = useState()\n    const [userCommentId, setUserCommentId] = useState(null)\n    const [ edit, setEdit ] = useState()\n    const [address, setAddress] = useState()\n    const [storename, setStorename] = useState()\n    const [rating, setRating] = useState()\n    useEffect(async () => {\n        data = await fetchStoreData(id);\n        setBasicInfo({\n            storeName: data.storename,\n            address: data.address,\n            phone: data.phone,\n            menus: data.picture\n        })\n        setReview({\n            storeName: data.storename,\n            storeId: data._id,\n            rating: data.rating,\n            comments: data.comments\n        })\n        setRating(data.rating)\n        setAddress(data.address)\n        setStorename(data.storename)\n    },[ id ])\n    //const data = await fetchStoreData('6002e4d7d31a19a31b19086f');\n    //console.log(\"data: \", data)\n    if (data !== \"error\"){\n        //console.log(basicInfo, review)\n        return (\n            <div className={classes.root}>\n                <userCommentContext.Provider value={{userComment, setUserComment , userRate , setUserRate, commented, setCommented, userCommentId, setUserCommentId, edit, setEdit, address, setAddress, storename, rating}}>\n                    <div className={classes.leftBar}><Paper className={classes.paper}>\n                        <BasicInfo data={basicInfo&&basicInfo}/>\n                        <Review data={review&&review}/>\n                    </Paper></div>\n                    <div className={classes.map}>{(address&&storename&&rating)&&<Map />}</div>\n                </userCommentContext.Provider>\n            </div>\n        )\n    }\n    \n}\n//<div className={classes.map}>{(address&&storename&&rating)&&<Map />}</div>\nexport default StoreContainer;","import './App.css';\nimport React, { useState} from \"react\";\nimport Register from './Register'\nimport Random from './main/Random'\nimport { BrowserRouter as Router, Route } from 'react-router-dom'\nimport Profile from './Profile'\nimport AddStore from './containers/AddStore';\nimport Mainbar from './main/Mainbar'\nimport Main from './main/Main'\nimport userContext from './userContext'\nimport Store from './containers/storeContainer'\n// import StoreMap from './StoreMap'\n// import Geolocator from './Geolocator'\nfunction App() {\n  const [user, setUser] = useState(null);\n  return (\n    <>\n    {/* <Geolocator /> */}\n    {\n      <>\n      <Router>\n        <userContext.Provider value={{user, setUser}}>\n            <Mainbar />\n            <Route exact path=\"/\">\n              <Main />\n            </Route>\n            <Route path=\"/store/:id\"> \n              <Store/>\n            </Route>\n            <Route path=\"/login\" exact component={Register} />\n            <Route path=\"/random\" exact component={Random} />\n            <Route path=\"/profile\" exact component={Profile} />\n            <Route path=\"/addstore\" exact component={AddStore} />\n        </userContext.Provider>\n      </Router>\n      </>\n    }\n    </>\n    \n  )\n}\nexport default App;","const reportWebVitals = onPerfEntry => {\n  if (onPerfEntry && onPerfEntry instanceof Function) {\n    import('web-vitals').then(({ getCLS, getFID, getFCP, getLCP, getTTFB }) => {\n      getCLS(onPerfEntry);\n      getFID(onPerfEntry);\n      getFCP(onPerfEntry);\n      getLCP(onPerfEntry);\n      getTTFB(onPerfEntry);\n    });\n  }\n};\n\nexport default reportWebVitals;\n","import React from 'react';\nimport ReactDOM from 'react-dom';\nimport './index.css';\nimport App from './App';\nimport reportWebVitals from './reportWebVitals';\n\nReactDOM.render(\n  <React.StrictMode>\n    <App />\n  </React.StrictMode>,\n  document.getElementById('root')\n);\n\n// If you want to start measuring performance in your app, pass a function\n// to log results (for example: reportWebVitals(console.log))\n// or send to an analytics endpoint. Learn more: https://bit.ly/CRA-vitals\nreportWebVitals();\n"],"sourceRoot":""}